{"D:\\projects\\message-tree\\src\\actions\\app.ts": {"path":"D:\\projects\\message-tree\\src\\actions\\app.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":38}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":26}}},"fnMap":{"0":{"name":"initApp","decl":{"start":{"line":4,"column":9},"end":{"line":4,"column":16}},"loc":{"start":{"line":4,"column":19},"end":{"line":6,"column":1}},"line":4}},"branchMap":{},"s":{"0":2,"1":2,"2":2,"3":2,"4":3,"5":2},"f":{"0":3},"b":{},"inputSourceMap":{"version":3,"file":"app.js","sourceRoot":"","sources":["app.ts"],"names":[],"mappings":";;AAAa,QAAA,QAAQ,GAAG,UAAU,CAAC;AAMnC;IACE,MAAM,CAAC,EAAE,IAAI,EAAE,gBAAQ,EAAE,CAAC;AAC5B,CAAC;AAFD,0BAEC","sourcesContent":["export const INIT_APP = 'INIT_APP';\r\n\r\nexport interface InitApp {\r\n  type: typeof INIT_APP;\r\n}\r\n\r\nexport function initApp(): InitApp {\r\n  return { type: INIT_APP };\r\n}\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"8851e15e115e15cbb212abde6291e4b1b9f79ea7"}
,"D:\\projects\\message-tree\\src\\actions\\drafts.ts": {"path":"D:\\projects\\message-tree\\src\\actions\\drafts.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":38}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":38}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":36}},"7":{"start":{"line":8,"column":4},"end":{"line":11,"column":6}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":34}},"9":{"start":{"line":15,"column":4},"end":{"line":19,"column":6}},"10":{"start":{"line":21,"column":0},"end":{"line":21,"column":34}},"11":{"start":{"line":23,"column":4},"end":{"line":26,"column":6}},"12":{"start":{"line":28,"column":0},"end":{"line":28,"column":34}},"13":{"start":{"line":30,"column":4},"end":{"line":33,"column":6}},"14":{"start":{"line":35,"column":0},"end":{"line":35,"column":32}}},"fnMap":{"0":{"name":"createDraft","decl":{"start":{"line":7,"column":9},"end":{"line":7,"column":20}},"loc":{"start":{"line":7,"column":32},"end":{"line":12,"column":1}},"line":7},"1":{"name":"changeDraft","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":20}},"loc":{"start":{"line":14,"column":38},"end":{"line":20,"column":1}},"line":14},"2":{"name":"submitDraft","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":20}},"loc":{"start":{"line":22,"column":32},"end":{"line":27,"column":1}},"line":22},"3":{"name":"cleanDraft","decl":{"start":{"line":29,"column":9},"end":{"line":29,"column":19}},"loc":{"start":{"line":29,"column":31},"end":{"line":34,"column":1}},"line":29}},"branchMap":{},"s":{"0":8,"1":8,"2":8,"3":8,"4":8,"5":8,"6":8,"7":3,"8":8,"9":4,"10":8,"11":5,"12":8,"13":7,"14":8},"f":{"0":3,"1":4,"2":5,"3":7},"b":{},"inputSourceMap":{"version":3,"file":"drafts.js","sourceRoot":"","sources":["drafts.ts"],"names":[],"mappings":";;AAAa,QAAA,YAAY,GAAG,cAAc,CAAC;AAC9B,QAAA,YAAY,GAAG,cAAc,CAAC;AAC9B,QAAA,YAAY,GAAG,cAAc,CAAC;AAC9B,QAAA,WAAW,GAAG,aAAa,CAAC;AAyBzC,qBAA4B,SAAiB;IAC3C,MAAM,CAAC;QACL,IAAI,EAAE,oBAAY;QAClB,SAAS;KACV,CAAC;AACJ,CAAC;AALD,kCAKC;AAED,qBAA4B,IAAY,EAAE,SAAiB;IACzD,MAAM,CAAC;QACL,IAAI,EAAE,oBAAY;QAClB,IAAI;QACJ,SAAS;KACV,CAAC;AACJ,CAAC;AAND,kCAMC;AAED,qBAA4B,SAAiB;IAC3C,MAAM,CAAC;QACL,IAAI,EAAE,oBAAY;QAClB,SAAS;KACV,CAAC;AACJ,CAAC;AALD,kCAKC;AAED,oBAA2B,SAAiB;IAC1C,MAAM,CAAC;QACL,IAAI,EAAE,mBAAW;QACjB,SAAS;KACV,CAAC;AACJ,CAAC;AALD,gCAKC","sourcesContent":["export const CREATE_DRAFT = 'CREATE_DRAFT';\r\nexport const CHANGE_DRAFT = 'CHANGE_DRAFT';\r\nexport const SUBMIT_DRAFT = 'SUBMIT_DRAFT';\r\nexport const CLEAN_DRAFT = 'CLEAN_DRAFT';\r\n\r\nexport interface CreateDraft {\r\n  type: typeof CREATE_DRAFT;\r\n  subjectId: string;\r\n}\r\n\r\nexport interface ChangeDraft {\r\n  type: typeof CHANGE_DRAFT;\r\n  subjectId: string;\r\n  text: string;\r\n}\r\n\r\nexport interface SubmitDraft {\r\n  type: typeof SUBMIT_DRAFT;\r\n  subjectId: string;\r\n}\r\n\r\nexport interface CleanDraft {\r\n  type: typeof CLEAN_DRAFT;\r\n  subjectId: string;\r\n}\r\n\r\nexport type DraftsAction = CreateDraft | ChangeDraft | SubmitDraft | CleanDraft;\r\n\r\nexport function createDraft(subjectId: string): CreateDraft {\r\n  return {\r\n    type: CREATE_DRAFT,\r\n    subjectId\r\n  };\r\n}\r\n\r\nexport function changeDraft(text: string, subjectId: string): ChangeDraft {\r\n  return {\r\n    type: CHANGE_DRAFT,\r\n    text,\r\n    subjectId\r\n  };\r\n}\r\n\r\nexport function submitDraft(subjectId: string): SubmitDraft {\r\n  return {\r\n    type: SUBMIT_DRAFT,\r\n    subjectId\r\n  };\r\n}\r\n\r\nexport function cleanDraft(subjectId: string): CleanDraft {\r\n  return {\r\n    type: CLEAN_DRAFT,\r\n    subjectId\r\n  };\r\n}\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"738ad7fcf9bb9c92b1fbfef3452e205032b0608c"}
,"D:\\projects\\message-tree\\src\\actions\\messages.ts": {"path":"D:\\projects\\message-tree\\src\\actions\\messages.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":42}},"5":{"start":{"line":6,"column":4},"end":{"line":9,"column":6}},"6":{"start":{"line":11,"column":0},"end":{"line":11,"column":36}},"7":{"start":{"line":13,"column":4},"end":{"line":16,"column":6}},"8":{"start":{"line":18,"column":0},"end":{"line":18,"column":38}}},"fnMap":{"0":{"name":"loadMessages","decl":{"start":{"line":5,"column":9},"end":{"line":5,"column":21}},"loc":{"start":{"line":5,"column":32},"end":{"line":10,"column":1}},"line":5},"1":{"name":"appendMessage","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":22}},"loc":{"start":{"line":12,"column":32},"end":{"line":17,"column":1}},"line":12}},"branchMap":{},"s":{"0":8,"1":8,"2":8,"3":8,"4":8,"5":1,"6":8,"7":3,"8":8},"f":{"0":1,"1":3},"b":{},"inputSourceMap":{"version":3,"file":"messages.js","sourceRoot":"","sources":["messages.ts"],"names":[],"mappings":";;AAEa,QAAA,aAAa,GAAG,eAAe,CAAC;AAChC,QAAA,cAAc,GAAG,gBAAgB,CAAC;AAc/C,sBAA6B,QAAmB;IAC9C,MAAM,CAAC;QACL,IAAI,EAAE,qBAAa;QACnB,QAAQ;KACT,CAAC;AACJ,CAAC;AALD,oCAKC;AAED,uBAA8B,OAAgB;IAC5C,MAAM,CAAC;QACL,IAAI,EAAE,sBAAc;QACpB,OAAO;KACR,CAAC;AACJ,CAAC;AALD,sCAKC","sourcesContent":["import { Message } from '../reducers/messagesBySubject';\r\n\r\nexport const LOAD_MESSAGES = 'LOAD_MESSAGES';\r\nexport const APPEND_MESSAGE = 'APPEND_MESSAGE';\r\n\r\nexport interface AppendMessage {\r\n  type: typeof APPEND_MESSAGE;\r\n  message: Message;\r\n}\r\n\r\nexport interface LoadMessages {\r\n  type: typeof LOAD_MESSAGES;\r\n  messages: Message[];\r\n}\r\n\r\nexport type MessagesAction = AppendMessage | LoadMessages;\r\n\r\nexport function loadMessages(messages: Message[]): LoadMessages {\r\n  return {\r\n    type: LOAD_MESSAGES,\r\n    messages\r\n  };\r\n}\r\n\r\nexport function appendMessage(message: Message): AppendMessage {\r\n  return {\r\n    type: APPEND_MESSAGE,\r\n    message\r\n  };\r\n}\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"2c72d980661f902d5c66ee36674a9d4a9db892f7"}
,"D:\\projects\\message-tree\\src\\components\\AppComponent.tsx": {"path":"D:\\projects\\message-tree\\src\\components\\AppComponent.tsx","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":14},"end":{"line":3,"column":30}},"4":{"start":{"line":4,"column":31},"end":{"line":4,"column":76}},"5":{"start":{"line":7,"column":8},"end":{"line":7,"column":29}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":73}},"7":{"start":{"line":13,"column":0},"end":{"line":13,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":24},"end":{"line":8,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":13},"end":{"line":11,"column":5}},"line":9}},"branchMap":{},"s":{"0":2,"1":2,"2":2,"3":2,"4":2,"5":1,"6":1,"7":2},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"file":"AppComponent.js","sourceRoot":"","sources":["AppComponent.tsx"],"names":[],"mappings":";;AAAA,+BAA+B;AAC/B,6EAAsE;AAMtE,kBACE,SAAQ,KAAK,CAAC,SAAoB;IAG3B,iBAAiB;QACtB,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;IACvB,CAAC;IAEM,MAAM;QACX,MAAM,CAAC,oBAAC,8BAAoB,OAAG,CAAC;IAClC,CAAC;CACF;AAXD,+BAWC","sourcesContent":["import * as React from 'react';\r\nimport MessageTreeContainer from '../containers/MessageTreeContainer';\r\n\r\nexport interface Props {\r\n  initApp: () => void;\r\n}\r\n\r\nexport default class AppComponent\r\n  extends React.Component<Props, {}>\r\n  implements React.ComponentLifecycle<Props, {}> {\r\n\r\n  public componentDidMount(): void {\r\n    this.props.initApp();\r\n  }\r\n\r\n  public render(): JSX.Element {\r\n    return <MessageTreeContainer />;\r\n  }\r\n}\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"33a5f32e1e9d928b47e5943bcec47807c1fc815e"}
,"D:\\projects\\message-tree\\src\\components\\MessageComponent.tsx": {"path":"D:\\projects\\message-tree\\src\\components\\MessageComponent.tsx","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":14},"end":{"line":3,"column":30}},"4":{"start":{"line":4,"column":19},"end":{"line":4,"column":40}},"5":{"start":{"line":6,"column":40},"end":{"line":6,"column":45}},"6":{"start":{"line":7,"column":4},"end":{"line":11,"column":55}},"7":{"start":{"line":13,"column":0},"end":{"line":13,"column":35}}},"fnMap":{"0":{"name":"MessageComponent","decl":{"start":{"line":5,"column":9},"end":{"line":5,"column":25}},"loc":{"start":{"line":5,"column":33},"end":{"line":12,"column":1}},"line":5}},"branchMap":{},"s":{"0":5,"1":5,"2":5,"3":5,"4":5,"5":1,"6":1,"7":5},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"MessageComponent.js","sourceRoot":"","sources":["MessageComponent.tsx"],"names":[],"mappings":";;AAAA,+BAA+B;AAC/B,yCAAyC;AAOzC,0BAAyC,KAAY;IACnD,MAAM,EACJ,OAAO,EAAE,EACP,IAAI,EACJ,IAAI,EACL,EACF,GAAG,KAAK,CAAC;IACV,MAAM,CAAC,CACL,6BAAK,SAAS,EAAC,SAAS;QACtB;YAAK,kCAAO,UAAU,CAAC,IAAI,CAAC,CAAQ,CAAM;QAC1C;YAAK,kCAAO,IAAI,CAAQ,CAAM,CAC1B,CACP,CAAC;AACJ,CAAC;AAbD,mCAaC","sourcesContent":["import * as React from 'react';\r\nimport * as dateformat from 'dateformat';\r\nimport { Message } from '../reducers/messagesBySubject';\r\n\r\nexport interface Props {\r\n  message: Readonly<Message>;\r\n}\r\n\r\nexport default function MessageComponent(props: Props): JSX.Element {\r\n  const {\r\n    message: {\r\n      date,\r\n      text\r\n    }\r\n  } = props;  \r\n  return (\r\n    <div className=\"message\">\r\n      <div><span>{dateformat(date)}</span></div>\r\n      <div><span>{text}</span></div>\r\n    </div>\r\n  );\r\n}\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"95a07ce4bb54ce75e3231af5184da23a04f24b18"}
,"D:\\projects\\message-tree\\src\\components\\MessageTreeComponent.tsx": {"path":"D:\\projects\\message-tree\\src\\components\\MessageTreeComponent.tsx","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":14},"end":{"line":3,"column":30}},"4":{"start":{"line":4,"column":29},"end":{"line":4,"column":72}},"5":{"start":{"line":5,"column":27},"end":{"line":5,"column":56}},"6":{"start":{"line":8,"column":32},"end":{"line":8,"column":42}},"7":{"start":{"line":9,"column":8},"end":{"line":11,"column":49}},"8":{"start":{"line":14,"column":55},"end":{"line":14,"column":65}},"9":{"start":{"line":15,"column":25},"end":{"line":24,"column":10}},"10":{"start":{"line":16,"column":27},"end":{"line":16,"column":34}},"11":{"start":{"line":17,"column":36},"end":{"line":19,"column":42}},"12":{"start":{"line":20,"column":12},"end":{"line":23,"column":57}},"13":{"start":{"line":25,"column":8},"end":{"line":25,"column":85}},"14":{"start":{"line":28,"column":8},"end":{"line":28,"column":84}},"15":{"start":{"line":31,"column":8},"end":{"line":31,"column":118}},"16":{"start":{"line":34,"column":8},"end":{"line":37,"column":10}},"17":{"start":{"line":35,"column":12},"end":{"line":35,"column":31}},"18":{"start":{"line":36,"column":12},"end":{"line":36,"column":42}},"19":{"start":{"line":40,"column":0},"end":{"line":40,"column":39}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":13},"end":{"line":12,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":26},"end":{"line":26,"column":5}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":52},"end":{"line":15,"column":53}},"loc":{"start":{"line":15,"column":72},"end":{"line":24,"column":9}},"line":15},"3":{"name":"(anonymous_3)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":24},"end":{"line":29,"column":5}},"line":27},"4":{"name":"(anonymous_4)","decl":{"start":{"line":30,"column":4},"end":{"line":30,"column":5}},"loc":{"start":{"line":30,"column":24},"end":{"line":32,"column":5}},"line":30},"5":{"name":"(anonymous_5)","decl":{"start":{"line":33,"column":4},"end":{"line":33,"column":5}},"loc":{"start":{"line":33,"column":28},"end":{"line":38,"column":5}},"line":33},"6":{"name":"(anonymous_6)","decl":{"start":{"line":34,"column":15},"end":{"line":34,"column":16}},"loc":{"start":{"line":34,"column":22},"end":{"line":37,"column":9}},"line":34}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":12},"end":{"line":11,"column":46}},"type":"binary-expr","locations":[{"start":{"line":11,"column":12},"end":{"line":11,"column":25}},{"start":{"line":11,"column":29},"end":{"line":11,"column":46}}],"line":11},"1":{"loc":{"start":{"line":17,"column":36},"end":{"line":19,"column":42}},"type":"cond-expr","locations":[{"start":{"line":18,"column":18},"end":{"line":18,"column":42}},{"start":{"line":19,"column":18},"end":{"line":19,"column":42}}],"line":17},"2":{"loc":{"start":{"line":23,"column":16},"end":{"line":23,"column":54}},"type":"binary-expr","locations":[{"start":{"line":23,"column":16},"end":{"line":23,"column":31}},{"start":{"line":23,"column":35},"end":{"line":23,"column":54}}],"line":23}},"s":{"0":4,"1":4,"2":4,"3":4,"4":4,"5":4,"6":2,"7":2,"8":2,"9":2,"10":3,"11":3,"12":3,"13":2,"14":1,"15":2,"16":2,"17":2,"18":2,"19":4},"f":{"0":2,"1":2,"2":3,"3":1,"4":2,"5":2,"6":2},"b":{"0":[2,1],"1":[1,2],"2":[3,1]},"inputSourceMap":{"version":3,"file":"MessageTreeComponent.js","sourceRoot":"","sources":["MessageTreeComponent.tsx"],"names":[],"mappings":";;AAAA,+BAA+B;AAE/B,yEAAkE;AAClE,yDAAkD;AAWlD,0BAA0C,SAAQ,KAAK,CAAC,SAAoB;IACnE,MAAM;QACX,MAAM,EAAE,WAAW,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;QACnC,MAAM,CAAC,CACL;YACE,oBAAC,4BAAkB,OAAG;YACrB,WAAW,EAAE,IAAI,IAAI,CAAC,UAAU,EAAE,CAC/B,CACP,CAAC;IACJ,CAAC;IAEO,UAAU,CAAC,SAAkB;QACnC,MAAM,EACJ,WAAW,EACX,WAAW,EACX,QAAQ,EACT,GAAG,IAAI,CAAC,KAAK,CAAC;QAEf,MAAM,QAAQ,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,KAAK;YACzD,MAAM,EAAE,EAAE,EAAE,GAAG,OAAO,CAAC;YACvB,MAAM,eAAe,GAAG,QAAQ,CAAC,EAAE,CAAC;kBAChC,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC;kBACxB,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;YAC7B,MAAM,CAAC,CACL,6BAAK,GAAG,EAAE,KAAK;gBACb,oBAAC,0BAAgB,IAAC,OAAO,EAAE,OAAO,GAAI;gBACrC,eAAe;gBACf,WAAW,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CACnC,CACP,CAAC;QACJ,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,CACL,6BAAK,SAAS,EAAC,cAAc,IAC1B,QAAQ,CACL,CACP,CAAC;IACJ,CAAC;IAEO,eAAe,CAAC,EAAU;QAChC,MAAM,CAAC,oBAAC,4BAAkB,IAAC,SAAS,EAAE,EAAE,GAAI,CAAC;IAC/C,CAAC;IAEO,eAAe,CAAC,EAAU;QAChC,MAAM,CAAC,CACL,2BACE,SAAS,EAAC,OAAO,EACjB,IAAI,EAAC,GAAG,EACR,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,YAG5B,CACL,CAAC;IACJ,CAAC;IAEO,YAAY,CAAC,SAAiB;QACpC,MAAM,CAAC,CAAC,CAAsC;YAC5C,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;QAChC,CAAC,CAAC;IACJ,CAAC;CACF;AA7DD,uCA6DC","sourcesContent":["import * as React from 'react';\r\nimport { Message } from '../reducers/messagesBySubject';\r\nimport ReplyFormContainer from '../containers/ReplyFormContainer';\r\nimport MessageComponent from './MessageComponent';\r\n\r\ntype ReplyCallback = (e: React.MouseEvent<HTMLAnchorElement>) => void;\r\n\r\nexport interface Props {\r\n  hasMessages: (subjectId?: string) => boolean;\r\n  getMessages: (subjectId?: string) => Message[];\r\n  hasDraft: (subjectId?: string) => boolean;\r\n  onReply: (subjectId: string) => void;\r\n}\r\n\r\nexport default class MessageTreeComponent extends React.Component<Props, {}> {\r\n  public render(): JSX.Element {\r\n    const { hasMessages } = this.props;\r\n    return (\r\n      <div>\r\n        <ReplyFormContainer />\r\n        {hasMessages() && this.renderList()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderList(subjectId?: string): JSX.Element {\r\n    const {\r\n      hasMessages,\r\n      getMessages,\r\n      hasDraft\r\n    } = this.props;\r\n\r\n    const messages = getMessages(subjectId).map((message, index) => {\r\n      const { id } = message;\r\n      const replyFormOrLink = hasDraft(id)\r\n        ? this.renderReplyForm(id)\r\n        : this.renderReplyLink(id);      \r\n      return (\r\n        <div key={index}>\r\n          <MessageComponent message={message} />\r\n          {replyFormOrLink}\r\n          {hasMessages(id) && this.renderList(id)}\r\n        </div>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"message-list\">\r\n        {messages}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderReplyForm(id: string): JSX.Element {\r\n    return <ReplyFormContainer subjectId={id} />;\r\n  }\r\n\r\n  private renderReplyLink(id: string): JSX.Element {\r\n    return (\r\n      <a\r\n        className=\"reply\"\r\n        href=\"#\"\r\n        onClick={this.onReplyClick(id)}\r\n      >\r\n        reply\r\n      </a>\r\n    );\r\n  }\r\n\r\n  private onReplyClick(subjectId: string): ReplyCallback {\r\n    return (e: React.MouseEvent<HTMLAnchorElement>) => {\r\n      e.preventDefault();\r\n      this.props.onReply(subjectId);\r\n    };\r\n  }\r\n}\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"e626ce6e6188f05295021b2982d41d929dada95e"}
,"D:\\projects\\message-tree\\src\\components\\ReplyFormComponent.tsx": {"path":"D:\\projects\\message-tree\\src\\components\\ReplyFormComponent.tsx","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":14},"end":{"line":3,"column":30}},"4":{"start":{"line":6,"column":8},"end":{"line":6,"column":21}},"5":{"start":{"line":7,"column":8},"end":{"line":7,"column":59}},"6":{"start":{"line":10,"column":65},"end":{"line":10,"column":75}},"7":{"start":{"line":11,"column":8},"end":{"line":16,"column":123}},"8":{"start":{"line":19,"column":8},"end":{"line":19,"column":44}},"9":{"start":{"line":22,"column":0},"end":{"line":22,"column":37}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":23},"end":{"line":8,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":13},"end":{"line":17,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":21},"end":{"line":20,"column":5}},"line":18}},"branchMap":{},"s":{"0":6,"1":6,"2":6,"3":6,"4":1,"5":1,"6":1,"7":1,"8":1,"9":6},"f":{"0":1,"1":1,"2":1},"b":{},"inputSourceMap":{"version":3,"file":"ReplyFormComponent.js","sourceRoot":"","sources":["ReplyFormComponent.tsx"],"names":[],"mappings":";;AAAA,+BAA+B;AAW/B,wBAAwC,SAAQ,KAAK,CAAC,SAAoB;IACxE,YAAY,KAAY;QACtB,KAAK,CAAC,KAAK,CAAC,CAAC;QACb,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACrD,CAAC;IAEM,MAAM;QACX,MAAM,EACJ,KAAK,EAAE,EAAE,IAAI,EAAE,EACf,OAAO,EACP,QAAQ,EACR,QAAQ,EACT,GAAG,IAAI,CAAC,KAAK,CAAC;QACf,MAAM,CAAC,CACL,6BAAK,SAAS,EAAC,MAAM;YACnB;gBACE,kCACE,SAAS,EAAC,OAAO,EACjB,SAAS,EAAE,IAAI,EACf,WAAW,EAAC,2BAA2B,EACvC,KAAK,EAAE,IAAI,EACX,QAAQ,EAAE,IAAI,CAAC,aAAa,GAC5B,CACE;YACN;gBACE,gCACE,SAAS,EAAC,QAAQ,EAClB,OAAO,EAAE,QAAQ,aAGV;gBACT,gCACE,SAAS,EAAC,QAAQ,EAClB,QAAQ,EAAE,CAAC,OAAO,EAClB,OAAO,EAAE,QAAQ,aAGV,CACL,CACF,CACP,CAAC;IACJ,CAAC;IAEO,aAAa,CAAC,CAAyC;QAC7D,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IACtC,CAAC;CACF;AA9CD,qCA8CC","sourcesContent":["import * as React from 'react';\r\nimport { Draft } from '../reducers/draftsBySubject';\r\n\r\nexport interface Props {\r\n  draft: Readonly<Draft>;\r\n  isValid: boolean;\r\n  onChange: (value: string) => void;\r\n  onCancel: () => void;\r\n  onSubmit: () => void;\r\n}\r\n\r\nexport default class ReplyFormComponent extends React.Component<Props, {}> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.onInputChange = this.onInputChange.bind(this);\r\n  }\r\n\r\n  public render(): JSX.Element {\r\n    const {\r\n      draft: { text },\r\n      isValid,\r\n      onCancel,\r\n      onSubmit\r\n    } = this.props;\r\n    return (\r\n      <div className=\"form\">\r\n        <div>\r\n          <textarea\r\n            className=\"input\"\r\n            autoFocus={true}\r\n            placeholder=\"Type your message here...\"\r\n            value={text}\r\n            onChange={this.onInputChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button\r\n            className=\"cancel\"\r\n            onClick={onCancel}\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            className=\"submit\"\r\n            disabled={!isValid}\r\n            onClick={onSubmit}\r\n          >\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private onInputChange(e: React.ChangeEvent<HTMLTextAreaElement>): void {\r\n    this.props.onChange(e.target.value);\r\n  }\r\n}\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"f1bfb43ba05a2c58ae84acbb00c9a60e3672bac7"}
,"D:\\projects\\message-tree\\src\\components\\__tests__\\AppComponent.tsx": {"path":"D:\\projects\\message-tree\\src\\components\\__tests__\\AppComponent.tsx","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":14},"end":{"line":3,"column":30}},"4":{"start":{"line":4,"column":17},"end":{"line":4,"column":34}},"5":{"start":{"line":5,"column":23},"end":{"line":5,"column":49}},"6":{"start":{"line":6,"column":0},"end":{"line":17,"column":3}},"7":{"start":{"line":7,"column":20},"end":{"line":7,"column":29}},"8":{"start":{"line":8,"column":25},"end":{"line":8,"column":36}},"9":{"start":{"line":9,"column":20},"end":{"line":9,"column":114}},"10":{"start":{"line":10,"column":4},"end":{"line":12,"column":7}},"11":{"start":{"line":11,"column":8},"end":{"line":11,"column":71}},"12":{"start":{"line":13,"column":4},"end":{"line":16,"column":7}},"13":{"start":{"line":14,"column":8},"end":{"line":14,"column":47}},"14":{"start":{"line":15,"column":8},"end":{"line":15,"column":49}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":25},"end":{"line":6,"column":26}},"loc":{"start":{"line":6,"column":31},"end":{"line":17,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":45},"end":{"line":10,"column":46}},"loc":{"start":{"line":10,"column":51},"end":{"line":12,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":54},"end":{"line":13,"column":55}},"loc":{"start":{"line":13,"column":60},"end":{"line":16,"column":5}},"line":13}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1},"f":{"0":1,"1":1,"2":1},"b":{},"inputSourceMap":{"version":3,"file":"AppComponent.js","sourceRoot":"","sources":["AppComponent.tsx"],"names":[],"mappings":";;AAAA,+BAA+B;AAC/B,mCAAiC;AACjC,kDAAsD;AAEtD,QAAQ,CAAC,cAAc,EAAE;IACvB,MAAM,OAAO,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC;IAC1B,MAAM,YAAY,GAAU,EAAE,OAAO,EAAE,CAAC;IACxC,MAAM,OAAO,GAAG,gBAAO,CACrB,oBAAC,sBAAY,oBAAK,YAAY,EAAI,CACnC,CAAC;IAEF,IAAI,CAAC,kCAAkC,EAAE;QACvC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IACjE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,2CAA2C,EAAE;QAC/C,OAAO,CAAC,QAAQ,EAAmB,CAAC,iBAAiB,EAAE,CAAC;QACzD,MAAM,CAAC,OAAO,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;IAC3C,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import * as React from 'react';\r\nimport { shallow } from 'enzyme';\r\nimport AppComponent, { Props } from '../AppComponent';\r\n\r\ndescribe('AppComponent', () => {\r\n  const initApp = jest.fn();\r\n  const initialProps: Props = { initApp };\r\n  const wrapper = shallow<Props, {}>(\r\n    <AppComponent {...initialProps} />\r\n  );\r\n\r\n  test('MessageTreeContainer is rendered', () => {\r\n    expect(wrapper.find('MessageTreeContainer').length).toEqual(1);\r\n  });\r\n\r\n  test('initApp is called after componentDidMount', () => {\r\n    (wrapper.instance() as AppComponent).componentDidMount();\r\n    expect(initApp).toHaveBeenCalledTimes(1);\r\n  });\r\n});\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"bc63454c287e72955027ad9037d4960c7ac1dcd6"}
,"D:\\projects\\message-tree\\src\\components\\__tests__\\MessageComponent.tsx": {"path":"D:\\projects\\message-tree\\src\\components\\__tests__\\MessageComponent.tsx","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":14},"end":{"line":3,"column":30}},"4":{"start":{"line":4,"column":17},"end":{"line":4,"column":34}},"5":{"start":{"line":5,"column":19},"end":{"line":5,"column":40}},"6":{"start":{"line":6,"column":27},"end":{"line":6,"column":57}},"7":{"start":{"line":7,"column":0},"end":{"line":28,"column":3}},"8":{"start":{"line":8,"column":17},"end":{"line":8,"column":41}},"9":{"start":{"line":9,"column":17},"end":{"line":9,"column":27}},"10":{"start":{"line":10,"column":25},"end":{"line":17,"column":5}},"11":{"start":{"line":18,"column":20},"end":{"line":18,"column":118}},"12":{"start":{"line":19,"column":4},"end":{"line":21,"column":7}},"13":{"start":{"line":20,"column":8},"end":{"line":20,"column":52}},"14":{"start":{"line":22,"column":4},"end":{"line":24,"column":7}},"15":{"start":{"line":23,"column":8},"end":{"line":23,"column":87}},"16":{"start":{"line":25,"column":4},"end":{"line":27,"column":7}},"17":{"start":{"line":26,"column":8},"end":{"line":26,"column":99}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":29},"end":{"line":7,"column":30}},"loc":{"start":{"line":7,"column":35},"end":{"line":28,"column":1}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":19,"column":24},"end":{"line":19,"column":25}},"loc":{"start":{"line":19,"column":30},"end":{"line":21,"column":5}},"line":19},"2":{"name":"(anonymous_2)","decl":{"start":{"line":22,"column":25},"end":{"line":22,"column":26}},"loc":{"start":{"line":22,"column":31},"end":{"line":24,"column":5}},"line":22},"3":{"name":"(anonymous_3)","decl":{"start":{"line":25,"column":34},"end":{"line":25,"column":35}},"loc":{"start":{"line":25,"column":40},"end":{"line":27,"column":5}},"line":25}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1},"f":{"0":1,"1":1,"2":1,"3":1},"b":{},"inputSourceMap":{"version":3,"file":"MessageComponent.js","sourceRoot":"","sources":["MessageComponent.tsx"],"names":[],"mappings":";;AAAA,+BAA+B;AAC/B,mCAAiC;AACjC,yCAAyC;AACzC,0DAA8D;AAE9D,QAAQ,CAAC,kBAAkB,EAAE;IAC3B,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE,CAAC;IACtC,MAAM,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;IACxB,MAAM,YAAY,GAAU;QAC1B,OAAO,EAAE;YACP,EAAE,EAAE,EAAE;YACN,SAAS,EAAE,EAAE;YACb,IAAI;YACJ,IAAI;SACL;KACF,CAAC;IACF,MAAM,OAAO,GAAG,gBAAO,CACrB,oBAAC,0BAAgB,oBAAK,YAAY,EAAI,CACvC,CAAC;IAEF,IAAI,CAAC,aAAa,EAAE;QAClB,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,UAAU,EAAE,CAAC;IAC9C,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,cAAc,EAAE;QACnB,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,kCAAO,IAAI,CAAQ,CAAC,CAAC,CAAC,UAAU,EAAE,CAAC;IAC7D,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,uBAAuB,EAAE;QAC5B,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,kCAAO,UAAU,CAAC,IAAI,CAAC,CAAQ,CAAC,CAAC,CAAC,UAAU,EAAE,CAAC;IACzE,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import * as React from 'react';\r\nimport { shallow } from 'enzyme';\r\nimport * as dateformat from 'dateformat';\r\nimport MessageComponent, { Props } from '../MessageComponent';\r\n\r\ndescribe('MessageComponent', () => {\r\n  const text = Math.random().toString();\r\n  const date = new Date();\r\n  const initialProps: Props = {\r\n    message: {\r\n      id: '',\r\n      subjectId: '',\r\n      text,\r\n      date\r\n    }\r\n  };\r\n  const wrapper = shallow<Props, {}>(\r\n    <MessageComponent {...initialProps} />\r\n  );\r\n\r\n  test('is .message', () => {\r\n    expect(wrapper.is('.message')).toBeTruthy();\r\n  });\r\n\r\n  test('renders text', () => {\r\n    expect(wrapper.contains(<span>{text}</span>)).toBeTruthy();\r\n  });\r\n\r\n  test('renders formated date', () => {\r\n    expect(wrapper.contains(<span>{dateformat(date)}</span>)).toBeTruthy();\r\n  });\r\n});\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"a15ee1d66bea551b9fe87392f4a3011ef86a939d"}
,"D:\\projects\\message-tree\\src\\components\\__tests__\\MessageTreeComponent.tsx": {"path":"D:\\projects\\message-tree\\src\\components\\__tests__\\MessageTreeComponent.tsx","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":14},"end":{"line":3,"column":30}},"4":{"start":{"line":4,"column":17},"end":{"line":4,"column":34}},"5":{"start":{"line":5,"column":15},"end":{"line":5,"column":42}},"6":{"start":{"line":6,"column":21},"end":{"line":6,"column":46}},"7":{"start":{"line":7,"column":31},"end":{"line":7,"column":65}},"8":{"start":{"line":8,"column":0},"end":{"line":37,"column":3}},"9":{"start":{"line":9,"column":20},"end":{"line":9,"column":29}},"10":{"start":{"line":10,"column":25},"end":{"line":15,"column":5}},"11":{"start":{"line":11,"column":35},"end":{"line":11,"column":40}},"12":{"start":{"line":16,"column":20},"end":{"line":16,"column":122}},"13":{"start":{"line":17,"column":4},"end":{"line":20,"column":7}},"14":{"start":{"line":18,"column":22},"end":{"line":18,"column":51}},"15":{"start":{"line":19,"column":8},"end":{"line":19,"column":40}},"16":{"start":{"line":21,"column":4},"end":{"line":25,"column":7}},"17":{"start":{"line":22,"column":22},"end":{"line":22,"column":56}},"18":{"start":{"line":23,"column":8},"end":{"line":23,"column":40}},"19":{"start":{"line":24,"column":8},"end":{"line":24,"column":48}},"20":{"start":{"line":26,"column":4},"end":{"line":29,"column":7}},"21":{"start":{"line":27,"column":22},"end":{"line":27,"column":54}},"22":{"start":{"line":28,"column":8},"end":{"line":28,"column":40}},"23":{"start":{"line":30,"column":4},"end":{"line":33,"column":7}},"24":{"start":{"line":31,"column":22},"end":{"line":31,"column":44}},"25":{"start":{"line":32,"column":8},"end":{"line":32,"column":40}},"26":{"start":{"line":34,"column":4},"end":{"line":36,"column":7}},"27":{"start":{"line":35,"column":8},"end":{"line":35,"column":49}},"28":{"start":{"line":38,"column":0},"end":{"line":86,"column":3}},"29":{"start":{"line":39,"column":34},"end":{"line":39,"column":48}},"30":{"start":{"line":40,"column":21},"end":{"line":41,"column":81}},"31":{"start":{"line":41,"column":36},"end":{"line":41,"column":76}},"32":{"start":{"line":42,"column":32},"end":{"line":42,"column":46}},"33":{"start":{"line":43,"column":19},"end":{"line":44,"column":79}},"34":{"start":{"line":44,"column":36},"end":{"line":44,"column":74}},"35":{"start":{"line":45,"column":20},"end":{"line":45,"column":29}},"36":{"start":{"line":46,"column":25},"end":{"line":51,"column":5}},"37":{"start":{"line":47,"column":37},"end":{"line":47,"column":81}},"38":{"start":{"line":48,"column":37},"end":{"line":48,"column":81}},"39":{"start":{"line":49,"column":34},"end":{"line":49,"column":75}},"40":{"start":{"line":52,"column":20},"end":{"line":52,"column":122}},"41":{"start":{"line":53,"column":4},"end":{"line":56,"column":7}},"42":{"start":{"line":54,"column":22},"end":{"line":54,"column":51}},"43":{"start":{"line":55,"column":8},"end":{"line":55,"column":76}},"44":{"start":{"line":57,"column":4},"end":{"line":64,"column":7}},"45":{"start":{"line":58,"column":22},"end":{"line":58,"column":56}},"46":{"start":{"line":59,"column":27},"end":{"line":62,"column":67}},"47":{"start":{"line":60,"column":30},"end":{"line":62,"column":66}},"48":{"start":{"line":60,"column":55},"end":{"line":62,"column":52}},"49":{"start":{"line":63,"column":8},"end":{"line":63,"column":40}},"50":{"start":{"line":65,"column":4},"end":{"line":70,"column":7}},"51":{"start":{"line":66,"column":22},"end":{"line":66,"column":54}},"52":{"start":{"line":67,"column":27},"end":{"line":68,"column":93}},"53":{"start":{"line":68,"column":28},"end":{"line":68,"column":92}},"54":{"start":{"line":68,"column":53},"end":{"line":68,"column":78}},"55":{"start":{"line":69,"column":8},"end":{"line":69,"column":40}},"56":{"start":{"line":71,"column":4},"end":{"line":76,"column":7}},"57":{"start":{"line":72,"column":22},"end":{"line":72,"column":44}},"58":{"start":{"line":73,"column":25},"end":{"line":74,"column":81}},"59":{"start":{"line":74,"column":29},"end":{"line":74,"column":80}},"60":{"start":{"line":74,"column":53},"end":{"line":74,"column":79}},"61":{"start":{"line":75,"column":8},"end":{"line":75,"column":54}},"62":{"start":{"line":77,"column":4},"end":{"line":85,"column":7}},"63":{"start":{"line":78,"column":8},"end":{"line":79,"column":86}},"64":{"start":{"line":79,"column":31},"end":{"line":79,"column":84}},"65":{"start":{"line":80,"column":26},"end":{"line":80,"column":38}},"66":{"start":{"line":81,"column":27},"end":{"line":83,"column":84}},"67":{"start":{"line":82,"column":29},"end":{"line":82,"column":80}},"68":{"start":{"line":82,"column":53},"end":{"line":82,"column":79}},"69":{"start":{"line":83,"column":28},"end":{"line":83,"column":83}},"70":{"start":{"line":83,"column":51},"end":{"line":83,"column":69}},"71":{"start":{"line":84,"column":8},"end":{"line":84,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":52},"end":{"line":37,"column":1}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":29},"end":{"line":11,"column":30}},"loc":{"start":{"line":11,"column":35},"end":{"line":11,"column":40}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":17,"column":48},"end":{"line":17,"column":49}},"loc":{"start":{"line":17,"column":54},"end":{"line":20,"column":5}},"line":17},"3":{"name":"(anonymous_3)","decl":{"start":{"line":21,"column":66},"end":{"line":21,"column":67}},"loc":{"start":{"line":21,"column":72},"end":{"line":25,"column":5}},"line":21},"4":{"name":"(anonymous_4)","decl":{"start":{"line":26,"column":52},"end":{"line":26,"column":53}},"loc":{"start":{"line":26,"column":58},"end":{"line":29,"column":5}},"line":26},"5":{"name":"(anonymous_5)","decl":{"start":{"line":30,"column":42},"end":{"line":30,"column":43}},"loc":{"start":{"line":30,"column":48},"end":{"line":33,"column":5}},"line":30},"6":{"name":"(anonymous_6)","decl":{"start":{"line":34,"column":34},"end":{"line":34,"column":35}},"loc":{"start":{"line":34,"column":40},"end":{"line":36,"column":5}},"line":34},"7":{"name":"(anonymous_7)","decl":{"start":{"line":38,"column":43},"end":{"line":38,"column":44}},"loc":{"start":{"line":38,"column":49},"end":{"line":86,"column":1}},"line":38},"8":{"name":"(anonymous_8)","decl":{"start":{"line":41,"column":16},"end":{"line":41,"column":17}},"loc":{"start":{"line":41,"column":36},"end":{"line":41,"column":76}},"line":41},"9":{"name":"(anonymous_9)","decl":{"start":{"line":44,"column":16},"end":{"line":44,"column":17}},"loc":{"start":{"line":44,"column":36},"end":{"line":44,"column":74}},"line":44},"10":{"name":"(anonymous_10)","decl":{"start":{"line":47,"column":29},"end":{"line":47,"column":30}},"loc":{"start":{"line":47,"column":37},"end":{"line":47,"column":81}},"line":47},"11":{"name":"(anonymous_11)","decl":{"start":{"line":48,"column":29},"end":{"line":48,"column":30}},"loc":{"start":{"line":48,"column":37},"end":{"line":48,"column":81}},"line":48},"12":{"name":"(anonymous_12)","decl":{"start":{"line":49,"column":26},"end":{"line":49,"column":27}},"loc":{"start":{"line":49,"column":34},"end":{"line":49,"column":75}},"line":49},"13":{"name":"(anonymous_13)","decl":{"start":{"line":53,"column":56},"end":{"line":53,"column":57}},"loc":{"start":{"line":53,"column":62},"end":{"line":56,"column":5}},"line":53},"14":{"name":"(anonymous_14)","decl":{"start":{"line":57,"column":58},"end":{"line":57,"column":59}},"loc":{"start":{"line":57,"column":64},"end":{"line":64,"column":5}},"line":57},"15":{"name":"(anonymous_15)","decl":{"start":{"line":60,"column":19},"end":{"line":60,"column":20}},"loc":{"start":{"line":60,"column":30},"end":{"line":62,"column":66}},"line":60},"16":{"name":"(anonymous_16)","decl":{"start":{"line":60,"column":48},"end":{"line":60,"column":49}},"loc":{"start":{"line":60,"column":55},"end":{"line":62,"column":52}},"line":60},"17":{"name":"(anonymous_17)","decl":{"start":{"line":65,"column":58},"end":{"line":65,"column":59}},"loc":{"start":{"line":65,"column":64},"end":{"line":70,"column":5}},"line":65},"18":{"name":"(anonymous_18)","decl":{"start":{"line":68,"column":19},"end":{"line":68,"column":20}},"loc":{"start":{"line":68,"column":28},"end":{"line":68,"column":92}},"line":68},"19":{"name":"(anonymous_19)","decl":{"start":{"line":68,"column":46},"end":{"line":68,"column":47}},"loc":{"start":{"line":68,"column":53},"end":{"line":68,"column":78}},"line":68},"20":{"name":"(anonymous_20)","decl":{"start":{"line":71,"column":68},"end":{"line":71,"column":69}},"loc":{"start":{"line":71,"column":74},"end":{"line":76,"column":5}},"line":71},"21":{"name":"(anonymous_21)","decl":{"start":{"line":74,"column":20},"end":{"line":74,"column":21}},"loc":{"start":{"line":74,"column":29},"end":{"line":74,"column":80}},"line":74},"22":{"name":"(anonymous_22)","decl":{"start":{"line":74,"column":42},"end":{"line":74,"column":43}},"loc":{"start":{"line":74,"column":53},"end":{"line":74,"column":79}},"line":74},"23":{"name":"(anonymous_23)","decl":{"start":{"line":77,"column":67},"end":{"line":77,"column":68}},"loc":{"start":{"line":77,"column":73},"end":{"line":85,"column":5}},"line":77},"24":{"name":"(anonymous_24)","decl":{"start":{"line":79,"column":21},"end":{"line":79,"column":22}},"loc":{"start":{"line":79,"column":31},"end":{"line":79,"column":84}},"line":79},"25":{"name":"(anonymous_25)","decl":{"start":{"line":82,"column":20},"end":{"line":82,"column":21}},"loc":{"start":{"line":82,"column":29},"end":{"line":82,"column":80}},"line":82},"26":{"name":"(anonymous_26)","decl":{"start":{"line":82,"column":42},"end":{"line":82,"column":43}},"loc":{"start":{"line":82,"column":53},"end":{"line":82,"column":79}},"line":82},"27":{"name":"(anonymous_27)","decl":{"start":{"line":83,"column":19},"end":{"line":83,"column":20}},"loc":{"start":{"line":83,"column":28},"end":{"line":83,"column":83}},"line":83},"28":{"name":"(anonymous_28)","decl":{"start":{"line":83,"column":41},"end":{"line":83,"column":42}},"loc":{"start":{"line":83,"column":51},"end":{"line":83,"column":69}},"line":83}},"branchMap":{"0":{"loc":{"start":{"line":60,"column":55},"end":{"line":62,"column":52}},"type":"cond-expr","locations":[{"start":{"line":61,"column":14},"end":{"line":61,"column":53}},{"start":{"line":62,"column":14},"end":{"line":62,"column":52}}],"line":60}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":2,"32":1,"33":1,"34":2,"35":1,"36":1,"37":4,"38":2,"39":3,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":2,"48":4,"49":1,"50":1,"51":1,"52":1,"53":3,"54":9,"55":1,"56":1,"57":1,"58":1,"59":3,"60":6,"61":1,"62":1,"63":1,"64":2,"65":1,"66":1,"67":3,"68":6,"69":2,"70":4,"71":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":2,"9":2,"10":4,"11":2,"12":3,"13":1,"14":1,"15":2,"16":4,"17":1,"18":3,"19":9,"20":1,"21":3,"22":6,"23":1,"24":2,"25":3,"26":6,"27":2,"28":4},"b":{"0":[2,2]},"inputSourceMap":{"version":3,"file":"MessageTreeComponent.js","sourceRoot":"","sources":["MessageTreeComponent.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { shallow } from 'enzyme';\r\nimport data from '../../mocks/data';\r\nimport * as fromReducers from '../../reducers';\r\nimport { Message } from '../../reducers/messagesBySubject';\r\nimport { Draft } from '../../reducers/draftsBySubject';\r\nimport MessageTreeComponent, { Props } from '../MessageTreeComponent';\r\n\r\ndescribe('MessageTreeComponent without data', () => {\r\n  const onReply = jest.fn();\r\n  const initialProps: Props = {\r\n    hasMessages: jest.fn(() => false),\r\n    getMessages: jest.fn(),\r\n    hasDraft: jest.fn(),\r\n    onReply\r\n  };\r\n  const wrapper = shallow<Props, {}>(\r\n    <MessageTreeComponent {...initialProps} />\r\n  );\r\n\r\n  test('.message-list nodes are not rendred', () => {\r\n    const nodes = wrapper.find('.message-list');\r\n    expect(nodes.length).toEqual(0);\r\n  });\r\n\r\n  test('ReplyFormContainer is rendered once for default draft', () => {\r\n    const nodes = wrapper.find('ReplyFormContainer');\r\n    expect(nodes.length).toEqual(1);\r\n    expect(nodes.props()).toMatchObject({});\r\n  });\r\n\r\n  test('MessageComponent nodes are not rendered', () => {\r\n    const nodes = wrapper.find('MessageComponent');\r\n    expect(nodes.length).toEqual(0);\r\n  });\r\n\r\n  test('.reply nodes are not rendered', () => {\r\n    const nodes = wrapper.find('.reply');\r\n    expect(nodes.length).toEqual(0);\r\n  });\r\n\r\n  test('onReply is not called', () => {\r\n    expect(onReply).toHaveBeenCalledTimes(0);\r\n  });\r\n});\r\n\r\ndescribe('MessageTreeComponent with data', () => {\r\n  const { messagesBySubject } = data;\r\n  const messages: Message[] = Object.keys(messagesBySubject)\r\n    .reduce((res: Message[], subjectId) =>\r\n      messagesBySubject[subjectId].concat(res), []\r\n    );\r\n  const { draftsBySubject } = data;\r\n  const drafts = Object.keys(draftsBySubject)\r\n    .reduce((res: Draft[], subjectId) =>\r\n      res.concat(draftsBySubject[subjectId]), []\r\n    );\r\n  const onReply = jest.fn();\r\n  const initialProps: Props = {\r\n    hasMessages: jest.fn((id: string) => fromReducers.hasMessages(data, id)),\r\n    getMessages: jest.fn((id: string) => fromReducers.getMessages(data, id)),\r\n    hasDraft: jest.fn((id: string) => fromReducers.hasDraft(data, id)),\r\n    onReply\r\n  };\r\n  const wrapper = shallow<Props, {}>(\r\n    <MessageTreeComponent {...initialProps} />\r\n  );\r\n\r\n  test('.message-list is rendered for each messages', () => {\r\n    const nodes = wrapper.find('.message-list');\r\n    expect(nodes.length).toEqual(\r\n      Object.keys(messagesBySubject).length\r\n    );\r\n  });\r\n\r\n  test('ReplyFormContainer is rendered for each draft', () => {\r\n    const nodes = wrapper.find('ReplyFormContainer');    \r\n    const accordance = drafts\r\n      .every((draft) => \r\n        nodes.filterWhere((n) =>\r\n          draft.subjectId\r\n            ? n.prop('subjectId') === draft.subjectId\r\n            : !n.props().hasOwnProperty('subjectId')\r\n        ).length === 1\r\n      );    \r\n    expect(accordance).toBeTruthy();\r\n  });\r\n\r\n  test('MessageComponent is rendered for each message', () => {\r\n    const nodes = wrapper.find('MessageComponent');\r\n    const accordance = messages\r\n      .every((msg) => \r\n        nodes.filterWhere((n) => n.prop('message') === msg).length === 1\r\n      );\r\n    expect(accordance).toBeTruthy();\r\n  });\r\n\r\n  test('.reply is rendered for each message without reply draft', () => {\r\n    const nodes = wrapper.find('.reply');\r\n    const filtered = messages\r\n      .filter((msg) =>\r\n        drafts.every((draft) => draft.subjectId !== msg.id)\r\n      );\r\n    expect(nodes.length).toEqual(filtered.length);\r\n  });\r\n\r\n  test('onReply is called for each message without reply draft', () => {\r\n    wrapper.find('.reply')\r\n      .forEach((node) =>\r\n        node.simulate('click', { preventDefault: jest.fn() })\r\n      );\r\n    const { calls } = onReply.mock;\r\n    const accordance = messages\r\n      .filter((msg) =>\r\n        drafts.every((draft) => draft.subjectId !== msg.id)\r\n      )\r\n      .every((msg) =>\r\n        calls.filter((args) => args[0] === msg.id).length === 1\r\n      );\r\n    expect(accordance).toBeTruthy();\r\n  });\r\n});\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"b840d057a57c01f1410d37ce0d772de6063ef0d2"}
,"D:\\projects\\message-tree\\src\\components\\__tests__\\ReplyFormComponent.tsx": {"path":"D:\\projects\\message-tree\\src\\components\\__tests__\\ReplyFormComponent.tsx","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":14},"end":{"line":3,"column":30}},"4":{"start":{"line":4,"column":17},"end":{"line":4,"column":34}},"5":{"start":{"line":5,"column":29},"end":{"line":5,"column":61}},"6":{"start":{"line":6,"column":0},"end":{"line":84,"column":3}},"7":{"start":{"line":7,"column":21},"end":{"line":7,"column":30}},"8":{"start":{"line":8,"column":21},"end":{"line":8,"column":30}},"9":{"start":{"line":9,"column":21},"end":{"line":9,"column":30}},"10":{"start":{"line":10,"column":25},"end":{"line":19,"column":5}},"11":{"start":{"line":20,"column":20},"end":{"line":20,"column":120}},"12":{"start":{"line":21,"column":4},"end":{"line":23,"column":7}},"13":{"start":{"line":22,"column":8},"end":{"line":22,"column":49}},"14":{"start":{"line":24,"column":4},"end":{"line":46,"column":7}},"15":{"start":{"line":25,"column":22},"end":{"line":25,"column":44}},"16":{"start":{"line":26,"column":8},"end":{"line":28,"column":11}},"17":{"start":{"line":27,"column":12},"end":{"line":27,"column":44}},"18":{"start":{"line":29,"column":8},"end":{"line":31,"column":11}},"19":{"start":{"line":30,"column":12},"end":{"line":30,"column":57}},"20":{"start":{"line":32,"column":8},"end":{"line":34,"column":11}},"21":{"start":{"line":33,"column":12},"end":{"line":33,"column":83}},"22":{"start":{"line":35,"column":8},"end":{"line":37,"column":11}},"23":{"start":{"line":36,"column":12},"end":{"line":36,"column":73}},"24":{"start":{"line":38,"column":8},"end":{"line":45,"column":11}},"25":{"start":{"line":39,"column":26},"end":{"line":39,"column":50}},"26":{"start":{"line":40,"column":12},"end":{"line":40,"column":61}},"27":{"start":{"line":41,"column":12},"end":{"line":43,"column":15}},"28":{"start":{"line":44,"column":12},"end":{"line":44,"column":57}},"29":{"start":{"line":47,"column":4},"end":{"line":63,"column":7}},"30":{"start":{"line":48,"column":23},"end":{"line":48,"column":46}},"31":{"start":{"line":49,"column":8},"end":{"line":51,"column":11}},"32":{"start":{"line":50,"column":12},"end":{"line":50,"column":45}},"33":{"start":{"line":52,"column":8},"end":{"line":54,"column":11}},"34":{"start":{"line":53,"column":12},"end":{"line":53,"column":52}},"35":{"start":{"line":55,"column":8},"end":{"line":57,"column":11}},"36":{"start":{"line":56,"column":12},"end":{"line":56,"column":52}},"37":{"start":{"line":58,"column":8},"end":{"line":62,"column":11}},"38":{"start":{"line":59,"column":12},"end":{"line":59,"column":52}},"39":{"start":{"line":60,"column":12},"end":{"line":60,"column":37}},"40":{"start":{"line":61,"column":12},"end":{"line":61,"column":54}},"41":{"start":{"line":64,"column":4},"end":{"line":83,"column":7}},"42":{"start":{"line":65,"column":28},"end":{"line":65,"column":51}},"43":{"start":{"line":66,"column":8},"end":{"line":68,"column":11}},"44":{"start":{"line":67,"column":12},"end":{"line":67,"column":50}},"45":{"start":{"line":69,"column":8},"end":{"line":71,"column":11}},"46":{"start":{"line":70,"column":12},"end":{"line":70,"column":57}},"47":{"start":{"line":72,"column":8},"end":{"line":74,"column":11}},"48":{"start":{"line":73,"column":12},"end":{"line":73,"column":57}},"49":{"start":{"line":75,"column":8},"end":{"line":77,"column":11}},"50":{"start":{"line":76,"column":12},"end":{"line":76,"column":80}},"51":{"start":{"line":78,"column":8},"end":{"line":82,"column":11}},"52":{"start":{"line":79,"column":12},"end":{"line":79,"column":52}},"53":{"start":{"line":80,"column":12},"end":{"line":80,"column":42}},"54":{"start":{"line":81,"column":12},"end":{"line":81,"column":54}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":31},"end":{"line":6,"column":32}},"loc":{"start":{"line":6,"column":37},"end":{"line":84,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":21,"column":21},"end":{"line":21,"column":22}},"loc":{"start":{"line":21,"column":27},"end":{"line":23,"column":5}},"line":21},"2":{"name":"(anonymous_2)","decl":{"start":{"line":24,"column":23},"end":{"line":24,"column":24}},"loc":{"start":{"line":24,"column":29},"end":{"line":46,"column":5}},"line":24},"3":{"name":"(anonymous_3)","decl":{"start":{"line":26,"column":33},"end":{"line":26,"column":34}},"loc":{"start":{"line":26,"column":39},"end":{"line":28,"column":9}},"line":26},"4":{"name":"(anonymous_4)","decl":{"start":{"line":29,"column":34},"end":{"line":29,"column":35}},"loc":{"start":{"line":29,"column":40},"end":{"line":31,"column":9}},"line":29},"5":{"name":"(anonymous_5)","decl":{"start":{"line":32,"column":34},"end":{"line":32,"column":35}},"loc":{"start":{"line":32,"column":40},"end":{"line":34,"column":9}},"line":32},"6":{"name":"(anonymous_6)","decl":{"start":{"line":35,"column":43},"end":{"line":35,"column":44}},"loc":{"start":{"line":35,"column":49},"end":{"line":37,"column":9}},"line":35},"7":{"name":"(anonymous_7)","decl":{"start":{"line":38,"column":54},"end":{"line":38,"column":55}},"loc":{"start":{"line":38,"column":60},"end":{"line":45,"column":9}},"line":38},"8":{"name":"(anonymous_8)","decl":{"start":{"line":47,"column":24},"end":{"line":47,"column":25}},"loc":{"start":{"line":47,"column":30},"end":{"line":63,"column":5}},"line":47},"9":{"name":"(anonymous_9)","decl":{"start":{"line":49,"column":33},"end":{"line":49,"column":34}},"loc":{"start":{"line":49,"column":39},"end":{"line":51,"column":9}},"line":49},"10":{"name":"(anonymous_10)","decl":{"start":{"line":52,"column":28},"end":{"line":52,"column":29}},"loc":{"start":{"line":52,"column":34},"end":{"line":54,"column":9}},"line":52},"11":{"name":"(anonymous_11)","decl":{"start":{"line":55,"column":27},"end":{"line":55,"column":28}},"loc":{"start":{"line":55,"column":33},"end":{"line":57,"column":9}},"line":55},"12":{"name":"(anonymous_12)","decl":{"start":{"line":58,"column":47},"end":{"line":58,"column":48}},"loc":{"start":{"line":58,"column":53},"end":{"line":62,"column":9}},"line":58},"13":{"name":"(anonymous_13)","decl":{"start":{"line":64,"column":24},"end":{"line":64,"column":25}},"loc":{"start":{"line":64,"column":30},"end":{"line":83,"column":5}},"line":64},"14":{"name":"(anonymous_14)","decl":{"start":{"line":66,"column":33},"end":{"line":66,"column":34}},"loc":{"start":{"line":66,"column":39},"end":{"line":68,"column":9}},"line":66},"15":{"name":"(anonymous_15)","decl":{"start":{"line":69,"column":28},"end":{"line":69,"column":29}},"loc":{"start":{"line":69,"column":34},"end":{"line":71,"column":9}},"line":69},"16":{"name":"(anonymous_16)","decl":{"start":{"line":72,"column":27},"end":{"line":72,"column":28}},"loc":{"start":{"line":72,"column":33},"end":{"line":74,"column":9}},"line":72},"17":{"name":"(anonymous_17)","decl":{"start":{"line":75,"column":44},"end":{"line":75,"column":45}},"loc":{"start":{"line":75,"column":50},"end":{"line":77,"column":9}},"line":75},"18":{"name":"(anonymous_18)","decl":{"start":{"line":78,"column":47},"end":{"line":78,"column":48}},"loc":{"start":{"line":78,"column":53},"end":{"line":82,"column":9}},"line":78}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1},"b":{},"inputSourceMap":{"version":3,"file":"ReplyFormComponent.js","sourceRoot":"","sources":["ReplyFormComponent.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { shallow } from 'enzyme';\r\nimport ReplyFormComponent, { Props } from '../ReplyFormComponent';\r\n\r\ndescribe('ReplyFormComponent', () => {\r\n  const onChange = jest.fn();\r\n  const onSubmit = jest.fn();\r\n  const onCancel = jest.fn();\r\n  const initialProps: Props = {\r\n    draft: {\r\n      subjectId: '',\r\n      text: Math.random().toString()\r\n    },\r\n    isValid: false,\r\n    onChange,\r\n    onSubmit,\r\n    onCancel\r\n  };\r\n  const wrapper = shallow<Props, {}>(\r\n    <ReplyFormComponent {...initialProps} />\r\n  );\r\n\r\n  test('is .form', () => {\r\n    expect(wrapper.is('.form')).toBeTruthy();\r\n  });\r\n\r\n  describe('.input', () => {\r\n    const input = wrapper.find('.input');\r\n\r\n    test('is rendered once', () => {\r\n      expect(input.length).toEqual(1);\r\n    });\r\n\r\n    test('autoFocus is true', () => {\r\n      expect(input.prop('autoFocus')).toBeTruthy();\r\n    });\r\n\r\n    test('has a placeholder', () => {\r\n      expect(input.prop('placeholder')).toEqual('Type your message here...');\r\n    });\r\n\r\n    test('value equals to draft.text', () => {\r\n      expect(input.prop('value')).toEqual(initialProps.draft.text);\r\n    });\r\n\r\n    test('onChange is called after input change', () => {\r\n      const value = Math.random().toString();\r\n      expect(onChange).not.toHaveBeenCalledWith(value);\r\n      input.simulate('change', {\r\n        target: { value }\r\n      });\r\n      expect(onChange).toHaveBeenCalledWith(value);\r\n    });\r\n  });\r\n\r\n  describe('.cancel', () => {\r\n    const cancel = wrapper.find('.cancel');\r\n\r\n    test('is rendered once', () => {\r\n      expect(cancel.length).toEqual(1);\r\n    });\r\n\r\n    test('is a button', () => {\r\n      expect(cancel.type()).toEqual('button');\r\n    });\r\n\r\n    test('has a text', () => {\r\n      expect(cancel.text()).toEqual('Cancel');\r\n    });\r\n\r\n    test('onCancel is called after click', () => {\r\n      expect(onCancel).not.toHaveBeenCalled();\r\n      cancel.simulate('click');\r\n      expect(onCancel).toHaveBeenCalledTimes(1);\r\n    });\r\n  });\r\n\r\n  describe('.submit', () => {\r\n    const submitDraft = wrapper.find('.submit');\r\n\r\n    test('is rendered once', () => {\r\n      expect(submitDraft.length).toEqual(1);\r\n    });\r\n\r\n    test('is a button', () => {\r\n      expect(submitDraft.type()).toEqual('button');\r\n    });\r\n\r\n    test('has a text', () => {\r\n      expect(submitDraft.text()).toEqual('Submit');\r\n    });\r\n\r\n    test('disabled if draft not valid', () => {\r\n      expect(submitDraft.prop('disabled')).toEqual(!initialProps.isValid);\r\n    });\r\n\r\n    test('onSubmit is called after click', () => {\r\n      expect(onSubmit).not.toHaveBeenCalled();\r\n      submitDraft.simulate('click');\r\n      expect(onSubmit).toHaveBeenCalledTimes(1);\r\n    });\r\n  });\r\n});\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"9f6b6a6a39ac3001653aae3905ce36a828665c0d"}
,"D:\\projects\\message-tree\\src\\containers\\AppContainer.ts": {"path":"D:\\projects\\message-tree\\src\\containers\\AppContainer.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":22},"end":{"line":3,"column":44}},"4":{"start":{"line":4,"column":16},"end":{"line":4,"column":32}},"5":{"start":{"line":5,"column":14},"end":{"line":5,"column":39}},"6":{"start":{"line":6,"column":23},"end":{"line":6,"column":60}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":76}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":48}},"9":{"start":{"line":11,"column":21},"end":{"line":11,"column":92}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":42}},"11":{"start":{"line":13,"column":0},"end":{"line":13,"column":31}}},"fnMap":{"0":{"name":"mapDispatchToProps","decl":{"start":{"line":7,"column":9},"end":{"line":7,"column":27}},"loc":{"start":{"line":7,"column":38},"end":{"line":9,"column":1}},"line":7}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"AppContainer.js","sourceRoot":"","sources":["AppContainer.ts"],"names":[],"mappings":";;AAAA,6CAAsC;AACtC,iCAGe;AAEf,wCAAyC;AACzC,6DAAsD;AAMtD,4BAAmC,QAAyB;IAC1D,MAAM,CAAC,0BAAkB,CAAC,EAAE,OAAO,EAAP,aAAO,EAAE,EAAE,QAAQ,CAAC,CAAC;AACnD,CAAC;AAFD,gDAEC;AAED,MAAM,YAAY,GAAG,qBAAO,CAC1B,IAAI,EACJ,kBAAkB,CACnB,CAAC,sBAAY,CAAC,CAAC;AAEhB,YAAY,CAAC,WAAW,GAAG,cAAc,CAAC;AAE1C,kBAAe,YAAY,CAAC","sourcesContent":["import { connect } from 'react-redux';\r\nimport {\r\n  bindActionCreators,\r\n  Dispatch\r\n} from 'redux';\r\nimport { State } from '../reducers';\r\nimport { initApp } from '../actions/app';\r\nimport AppComponent from '../components/AppComponent';\r\n\r\nexport interface DispatchProps {\r\n  initApp: () => void;\r\n}\r\n\r\nexport function mapDispatchToProps(dispatch: Dispatch<State>): DispatchProps {\r\n  return bindActionCreators({ initApp }, dispatch);\r\n}\r\n\r\nconst AppContainer = connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(AppComponent);\r\n\r\nAppContainer.displayName = 'AppContainer';\r\n\r\nexport default AppContainer;\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"aa30bd9b217b6c9d80073e5024303b7d8c88f827"}
,"D:\\projects\\message-tree\\src\\containers\\MessageTreeContainer.ts": {"path":"D:\\projects\\message-tree\\src\\containers\\MessageTreeContainer.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":22},"end":{"line":3,"column":44}},"4":{"start":{"line":4,"column":16},"end":{"line":4,"column":32}},"5":{"start":{"line":5,"column":17},"end":{"line":5,"column":45}},"6":{"start":{"line":6,"column":21},"end":{"line":6,"column":43}},"7":{"start":{"line":7,"column":31},"end":{"line":7,"column":76}},"8":{"start":{"line":9,"column":4},"end":{"line":19,"column":6}},"9":{"start":{"line":11,"column":12},"end":{"line":11,"column":62}},"10":{"start":{"line":14,"column":12},"end":{"line":14,"column":62}},"11":{"start":{"line":17,"column":12},"end":{"line":17,"column":59}},"12":{"start":{"line":21,"column":0},"end":{"line":21,"column":42}},"13":{"start":{"line":23,"column":4},"end":{"line":25,"column":17}},"14":{"start":{"line":27,"column":0},"end":{"line":27,"column":48}},"15":{"start":{"line":28,"column":29},"end":{"line":28,"column":119}},"16":{"start":{"line":29,"column":0},"end":{"line":29,"column":58}},"17":{"start":{"line":30,"column":0},"end":{"line":30,"column":39}}},"fnMap":{"0":{"name":"mapStateToProps","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":24}},"loc":{"start":{"line":8,"column":32},"end":{"line":20,"column":1}},"line":8},"1":{"name":"mapDispatchToProps","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":27}},"loc":{"start":{"line":22,"column":38},"end":{"line":26,"column":1}},"line":22}},"branchMap":{},"s":{"0":3,"1":3,"2":3,"3":3,"4":3,"5":3,"6":3,"7":3,"8":1,"9":3,"10":2,"11":3,"12":3,"13":1,"14":3,"15":3,"16":3,"17":3},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"file":"MessageTreeContainer.js","sourceRoot":"","sources":["MessageTreeContainer.ts"],"names":[],"mappings":";;AAAA,6CAAsC;AACtC,iCAGe;AACf,8CAAgD;AAChD,4CAA4C;AAE5C,6EAAsE;AActE,yBAAgC,KAAY;IAC1C,MAAM,CAAC;QACL,WAAW,CAAC,SAAkB;YAC5B,MAAM,CAAC,YAAY,CAAC,WAAW,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;QACpD,CAAC;QACD,WAAW,CAAC,SAAkB;YAC5B,MAAM,CAAC,YAAY,CAAC,WAAW,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;QACpD,CAAC;QACD,QAAQ,CAAC,SAAkB;YACzB,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;QACjD,CAAC;KACF,CAAC;AACJ,CAAC;AAZD,0CAYC;AAED,4BAAmC,QAAyB;IAC1D,MAAM,CAAC,0BAAkB,CAAC;QACxB,OAAO,EAAE,oBAAW;KACrB,EAAE,QAAQ,CAAC,CAAC;AACf,CAAC;AAJD,gDAIC;AAED,MAAM,oBAAoB,GAAG,qBAAO,CAClC,eAAe,EACf,kBAAkB,CACnB,CAAC,8BAAoB,CAAC,CAAC;AAExB,oBAAoB,CAAC,WAAW,GAAG,sBAAsB,CAAC;AAE1D,kBAAe,oBAAoB,CAAC","sourcesContent":["import { connect } from 'react-redux';\r\nimport {\r\n  bindActionCreators,\r\n  Dispatch\r\n} from 'redux';\r\nimport { createDraft } from '../actions/drafts';\r\nimport * as fromReducers from '../reducers';\r\nimport { Message } from '../reducers/messagesBySubject';\r\nimport MessageTreeComponent from '../components/MessageTreeComponent';\r\n\r\ntype State = fromReducers.State;\r\n\r\nexport interface StateProps {\r\n  hasMessages: (subjectId?: string) => boolean;\r\n  getMessages: (subjectId?: string) => Message[];\r\n  hasDraft: (subjectId?: string) => boolean;\r\n}\r\n\r\nexport interface DispatchProps {\r\n  onReply: (subjectId: string) => void;\r\n}\r\n\r\nexport function mapStateToProps(state: State): StateProps {\r\n  return {\r\n    hasMessages(subjectId?: string) {\r\n      return fromReducers.hasMessages(state, subjectId);\r\n    },\r\n    getMessages(subjectId?: string) {\r\n      return fromReducers.getMessages(state, subjectId);\r\n    },\r\n    hasDraft(subjectId?: string) {\r\n      return fromReducers.hasDraft(state, subjectId);\r\n    }\r\n  };\r\n}\r\n\r\nexport function mapDispatchToProps(dispatch: Dispatch<State>): DispatchProps {\r\n  return bindActionCreators({\r\n    onReply: createDraft\r\n  }, dispatch);\r\n}\r\n\r\nconst MessageTreeContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MessageTreeComponent);\r\n\r\nMessageTreeContainer.displayName = 'MessageTreeContainer';\r\n\r\nexport default MessageTreeContainer;\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"22896263b4cf32852027157648e7a0fbfdfb98fc"}
,"D:\\projects\\message-tree\\src\\containers\\ReplyFormContainer.ts": {"path":"D:\\projects\\message-tree\\src\\containers\\ReplyFormContainer.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":22},"end":{"line":3,"column":44}},"4":{"start":{"line":4,"column":16},"end":{"line":4,"column":32}},"5":{"start":{"line":5,"column":17},"end":{"line":5,"column":45}},"6":{"start":{"line":6,"column":21},"end":{"line":6,"column":43}},"7":{"start":{"line":7,"column":29},"end":{"line":7,"column":72}},"8":{"start":{"line":9,"column":26},"end":{"line":9,"column":31}},"9":{"start":{"line":10,"column":4},"end":{"line":13,"column":6}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":42}},"11":{"start":{"line":17,"column":4},"end":{"line":21,"column":17}},"12":{"start":{"line":23,"column":0},"end":{"line":23,"column":48}},"13":{"start":{"line":25,"column":37},"end":{"line":25,"column":47}},"14":{"start":{"line":26,"column":53},"end":{"line":26,"column":66}},"15":{"start":{"line":27,"column":4},"end":{"line":35,"column":13}},"16":{"start":{"line":28,"column":12},"end":{"line":28,"column":42}},"17":{"start":{"line":31,"column":12},"end":{"line":31,"column":35}},"18":{"start":{"line":34,"column":12},"end":{"line":34,"column":34}},"19":{"start":{"line":37,"column":0},"end":{"line":37,"column":32}},"20":{"start":{"line":38,"column":27},"end":{"line":38,"column":127}},"21":{"start":{"line":39,"column":0},"end":{"line":39,"column":54}},"22":{"start":{"line":40,"column":0},"end":{"line":40,"column":37}}},"fnMap":{"0":{"name":"mapStateToProps","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":24}},"loc":{"start":{"line":8,"column":39},"end":{"line":14,"column":1}},"line":8},"1":{"name":"mapDispatchToProps","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":27}},"loc":{"start":{"line":16,"column":38},"end":{"line":22,"column":1}},"line":16},"2":{"name":"mergeProps","decl":{"start":{"line":24,"column":9},"end":{"line":24,"column":19}},"loc":{"start":{"line":24,"column":47},"end":{"line":36,"column":1}},"line":24}},"branchMap":{},"s":{"0":5,"1":5,"2":5,"3":5,"4":5,"5":5,"6":5,"7":5,"8":1,"9":1,"10":5,"11":1,"12":5,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":5,"20":5,"21":5,"22":5},"f":{"0":1,"1":1,"2":1},"b":{},"inputSourceMap":{"version":3,"file":"ReplyFormContainer.js","sourceRoot":"","sources":["ReplyFormContainer.ts"],"names":[],"mappings":";;AAAA,6CAAsC;AACtC,iCAGe;AACf,8CAI2B;AAC3B,4CAA4C;AAE5C,yEAE0C;AAmB1C,yBAAgC,KAAY,EAAE,KAAY;IACxD,MAAM,EAAE,SAAS,EAAE,GAAG,KAAK,CAAC;IAC5B,MAAM,CAAC;QACL,KAAK,EAAE,YAAY,CAAC,QAAQ,CAAC,KAAK,EAAE,SAAS,CAAC;QAC9C,OAAO,EAAE,YAAY,CAAC,YAAY,CAAC,KAAK,EAAE,SAAS,CAAC;KACrD,CAAC;AACJ,CAAC;AAND,0CAMC;AAED,4BAAmC,QAAyB;IAC1D,MAAM,CAAC,0BAAkB,CAAC;QACxB,WAAW,EAAX,oBAAW;QACX,WAAW,EAAX,oBAAW;QACX,UAAU,EAAV,mBAAU;KACX,EAAE,QAAQ,CAAC,CAAC;AACf,CAAC;AAND,gDAMC;AAED,oBACE,UAAsB,EACtB,aAA4B;IAE5B,MAAM,EACJ,KAAK,EAAE,EAAE,SAAS,EAAE,EACrB,GAAG,UAAU,CAAC;IACf,MAAM,EACJ,WAAW,EACX,WAAW,EACX,UAAU,EACX,GAAG,aAAa,CAAC;IAClB,MAAM,mBACD,UAAU,IACb,QAAQ,CAAC,KAAa;YACpB,WAAW,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;QAChC,CAAC;QACD,QAAQ;YACN,WAAW,CAAC,SAAS,CAAC,CAAC;QACzB,CAAC;QACD,QAAQ;YACN,UAAU,CAAC,SAAS,CAAC,CAAC;QACxB,CAAC,IACD;AACJ,CAAC;AAxBD,gCAwBC;AAED,MAAM,kBAAkB,GAAG,qBAAO,CAChC,eAAe,EACf,kBAAkB,EAClB,UAAU,CACX,CAAC,4BAAkB,CAAC,CAAC;AAEtB,kBAAkB,CAAC,WAAW,GAAG,oBAAoB,CAAC;AAEtD,kBAAe,kBAAkB,CAAC","sourcesContent":["import { connect } from 'react-redux';\r\nimport {\r\n  bindActionCreators,\r\n  Dispatch\r\n} from 'redux';\r\nimport {\r\n  changeDraft,\r\n  cleanDraft,\r\n  submitDraft\r\n} from '../actions/drafts';\r\nimport * as fromReducers from '../reducers';\r\nimport { Draft } from '../reducers/draftsBySubject';\r\nimport ReplyFormComponent, {\r\n  Props as ComponentProps\r\n} from '../components/ReplyFormComponent';\r\n\r\ntype State = fromReducers.State;\r\n\r\nexport interface Props {\r\n  subjectId?: string;\r\n}\r\n\r\nexport interface StateProps {\r\n  draft: Readonly<Draft>;\r\n  isValid: boolean;\r\n}\r\n\r\nexport interface DispatchProps {\r\n  changeDraft: typeof changeDraft;\r\n  submitDraft: typeof submitDraft;\r\n  cleanDraft: typeof cleanDraft;\r\n}\r\n\r\nexport function mapStateToProps(state: State, props: Props): StateProps {\r\n  const { subjectId } = props;\r\n  return {\r\n    draft: fromReducers.getDraft(state, subjectId),\r\n    isValid: fromReducers.isDraftValid(state, subjectId)\r\n  };\r\n}\r\n\r\nexport function mapDispatchToProps(dispatch: Dispatch<State>): DispatchProps {\r\n  return bindActionCreators({\r\n    changeDraft,\r\n    submitDraft,\r\n    cleanDraft\r\n  }, dispatch);\r\n}\r\n\r\nexport function mergeProps(\r\n  stateProps: StateProps,\r\n  dispatchProps: DispatchProps\r\n): ComponentProps {\r\n  const {\r\n    draft: { subjectId }\r\n  } = stateProps;\r\n  const {\r\n    changeDraft,\r\n    submitDraft,\r\n    cleanDraft\r\n  } = dispatchProps;\r\n  return {\r\n    ...stateProps,\r\n    onChange(value: string): void {        \r\n      changeDraft(value, subjectId);\r\n    },\r\n    onSubmit(): void {\r\n      submitDraft(subjectId);\r\n    },\r\n    onCancel(): void {\r\n      cleanDraft(subjectId);\r\n    }\r\n  };\r\n}\r\n\r\nconst ReplyFormContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n  mergeProps\r\n)(ReplyFormComponent);\r\n\r\nReplyFormContainer.displayName = 'ReplyFormContainer';\r\n\r\nexport default ReplyFormContainer;\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"0481a2118b72bf0eff5b3ac5206a002614e0d57a"}
,"D:\\projects\\message-tree\\src\\containers\\__tests__\\AppContainer.ts": {"path":"D:\\projects\\message-tree\\src\\containers\\__tests__\\AppContainer.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":14},"end":{"line":3,"column":42}},"4":{"start":{"line":4,"column":23},"end":{"line":4,"column":49}},"5":{"start":{"line":5,"column":0},"end":{"line":18,"column":3}},"6":{"start":{"line":6,"column":4},"end":{"line":8,"column":7}},"7":{"start":{"line":7,"column":8},"end":{"line":7,"column":75}},"8":{"start":{"line":9,"column":4},"end":{"line":17,"column":7}},"9":{"start":{"line":10,"column":25},"end":{"line":10,"column":34}},"10":{"start":{"line":11,"column":22},"end":{"line":11,"column":65}},"11":{"start":{"line":12,"column":8},"end":{"line":16,"column":11}},"12":{"start":{"line":13,"column":12},"end":{"line":13,"column":52}},"13":{"start":{"line":14,"column":12},"end":{"line":14,"column":28}},"14":{"start":{"line":15,"column":12},"end":{"line":15,"column":67}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":25},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":31},"end":{"line":18,"column":1}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":42},"end":{"line":6,"column":43}},"loc":{"start":{"line":6,"column":48},"end":{"line":8,"column":5}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":35},"end":{"line":9,"column":36}},"loc":{"start":{"line":9,"column":41},"end":{"line":17,"column":5}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":51},"end":{"line":12,"column":52}},"loc":{"start":{"line":12,"column":57},"end":{"line":16,"column":9}},"line":12}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1},"f":{"0":1,"1":1,"2":1,"3":1},"b":{},"inputSourceMap":{"version":3,"file":"AppContainer.js","sourceRoot":"","sources":["AppContainer.ts"],"names":[],"mappings":";;AAAA,2CAA4C;AAC5C,kDAGyB;AAEzB,QAAQ,CAAC,cAAc,EAAE;IACvB,IAAI,CAAC,+BAA+B,EAAE;QACpC,MAAM,CAAC,sBAAY,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;IAC3D,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,oBAAoB,EAAE;QAC7B,MAAM,QAAQ,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC;QAC3B,MAAM,KAAK,GAAkB,iCAAkB,CAAC,QAAQ,CAAC,CAAC;QAE1D,IAAI,CAAC,oCAAoC,EAAE;YACzC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;YACxC,KAAK,CAAC,OAAO,EAAE,CAAC;YAChB,MAAM,CAAC,QAAQ,CAAC,CAAC,oBAAoB,CAAC,aAAO,EAAE,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { initApp } from '../../actions/app';\r\nimport AppContainer, {\r\n  DispatchProps,\r\n  mapDispatchToProps\r\n} from '../AppContainer';\r\n\r\ndescribe('AppContainer', () => {\r\n  test('displayName is \"AppContainer\"', () => {\r\n    expect(AppContainer.displayName).toEqual('AppContainer');\r\n  });\r\n\r\n  describe('mapDispatchToProps', () => {\r\n    const dispatch = jest.fn();\r\n    const props: DispatchProps = mapDispatchToProps(dispatch);\r\n\r\n    test('initApp dispatches INIT_APP action', () => {\r\n      expect(dispatch).not.toHaveBeenCalled();\r\n      props.initApp();\r\n      expect(dispatch).toHaveBeenCalledWith(initApp());\r\n    });\r\n  });\r\n});\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"7ea077ef7cbf7649fcdb6ef64d7beabef212274b"}
,"D:\\projects\\message-tree\\src\\containers\\__tests__\\MessageTreeContainer.ts": {"path":"D:\\projects\\message-tree\\src\\containers\\__tests__\\MessageTreeContainer.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":17},"end":{"line":3,"column":48}},"4":{"start":{"line":4,"column":28},"end":{"line":4,"column":73}},"5":{"start":{"line":5,"column":15},"end":{"line":5,"column":42}},"6":{"start":{"line":6,"column":21},"end":{"line":6,"column":46}},"7":{"start":{"line":7,"column":31},"end":{"line":7,"column":65}},"8":{"start":{"line":8,"column":0},"end":{"line":38,"column":3}},"9":{"start":{"line":9,"column":4},"end":{"line":11,"column":7}},"10":{"start":{"line":10,"column":8},"end":{"line":10,"column":91}},"11":{"start":{"line":12,"column":4},"end":{"line":28,"column":7}},"12":{"start":{"line":13,"column":22},"end":{"line":13,"column":76}},"13":{"start":{"line":14,"column":8},"end":{"line":18,"column":11}},"14":{"start":{"line":15,"column":31},"end":{"line":15,"column":81}},"15":{"start":{"line":16,"column":12},"end":{"line":16,"column":144}},"16":{"start":{"line":16,"column":42},"end":{"line":16,"column":63}},"17":{"start":{"line":16,"column":97},"end":{"line":16,"column":141}},"18":{"start":{"line":17,"column":12},"end":{"line":17,"column":90}},"19":{"start":{"line":19,"column":8},"end":{"line":22,"column":11}},"20":{"start":{"line":20,"column":31},"end":{"line":20,"column":81}},"21":{"start":{"line":21,"column":12},"end":{"line":21,"column":144}},"22":{"start":{"line":21,"column":42},"end":{"line":21,"column":63}},"23":{"start":{"line":21,"column":97},"end":{"line":21,"column":141}},"24":{"start":{"line":23,"column":8},"end":{"line":27,"column":11}},"25":{"start":{"line":24,"column":31},"end":{"line":24,"column":79}},"26":{"start":{"line":25,"column":12},"end":{"line":25,"column":138}},"27":{"start":{"line":25,"column":42},"end":{"line":25,"column":60}},"28":{"start":{"line":25,"column":94},"end":{"line":25,"column":135}},"29":{"start":{"line":26,"column":12},"end":{"line":26,"column":87}},"30":{"start":{"line":29,"column":4},"end":{"line":37,"column":7}},"31":{"start":{"line":30,"column":25},"end":{"line":30,"column":34}},"32":{"start":{"line":31,"column":22},"end":{"line":31,"column":73}},"33":{"start":{"line":32,"column":8},"end":{"line":36,"column":11}},"34":{"start":{"line":33,"column":30},"end":{"line":33,"column":54}},"35":{"start":{"line":34,"column":12},"end":{"line":34,"column":37}},"36":{"start":{"line":35,"column":12},"end":{"line":35,"column":83}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":33},"end":{"line":8,"column":34}},"loc":{"start":{"line":8,"column":39},"end":{"line":38,"column":1}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":50},"end":{"line":9,"column":51}},"loc":{"start":{"line":9,"column":56},"end":{"line":11,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":32},"end":{"line":12,"column":33}},"loc":{"start":{"line":12,"column":38},"end":{"line":28,"column":5}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":14,"column":67},"end":{"line":14,"column":68}},"loc":{"start":{"line":14,"column":73},"end":{"line":18,"column":9}},"line":14},"4":{"name":"(anonymous_4)","decl":{"start":{"line":16,"column":34},"end":{"line":16,"column":35}},"loc":{"start":{"line":16,"column":42},"end":{"line":16,"column":63}},"line":16},"5":{"name":"(anonymous_5)","decl":{"start":{"line":16,"column":89},"end":{"line":16,"column":90}},"loc":{"start":{"line":16,"column":97},"end":{"line":16,"column":141}},"line":16},"6":{"name":"(anonymous_6)","decl":{"start":{"line":19,"column":58},"end":{"line":19,"column":59}},"loc":{"start":{"line":19,"column":64},"end":{"line":22,"column":9}},"line":19},"7":{"name":"(anonymous_7)","decl":{"start":{"line":21,"column":34},"end":{"line":21,"column":35}},"loc":{"start":{"line":21,"column":42},"end":{"line":21,"column":63}},"line":21},"8":{"name":"(anonymous_8)","decl":{"start":{"line":21,"column":89},"end":{"line":21,"column":90}},"loc":{"start":{"line":21,"column":97},"end":{"line":21,"column":141}},"line":21},"9":{"name":"(anonymous_9)","decl":{"start":{"line":23,"column":61},"end":{"line":23,"column":62}},"loc":{"start":{"line":23,"column":67},"end":{"line":27,"column":9}},"line":23},"10":{"name":"(anonymous_10)","decl":{"start":{"line":25,"column":34},"end":{"line":25,"column":35}},"loc":{"start":{"line":25,"column":42},"end":{"line":25,"column":60}},"line":25},"11":{"name":"(anonymous_11)","decl":{"start":{"line":25,"column":86},"end":{"line":25,"column":87}},"loc":{"start":{"line":25,"column":94},"end":{"line":25,"column":135}},"line":25},"12":{"name":"(anonymous_12)","decl":{"start":{"line":29,"column":35},"end":{"line":29,"column":36}},"loc":{"start":{"line":29,"column":41},"end":{"line":37,"column":5}},"line":29},"13":{"name":"(anonymous_13)","decl":{"start":{"line":32,"column":55},"end":{"line":32,"column":56}},"loc":{"start":{"line":32,"column":61},"end":{"line":36,"column":9}},"line":32}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":2,"17":2,"18":1,"19":1,"20":1,"21":1,"22":2,"23":2,"24":1,"25":1,"26":1,"27":2,"28":2,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":2,"6":1,"7":2,"8":2,"9":1,"10":2,"11":2,"12":1,"13":1},"b":{},"inputSourceMap":{"version":3,"file":"MessageTreeContainer.js","sourceRoot":"","sources":["MessageTreeContainer.ts"],"names":[],"mappings":";;AAAA,iDAAmD;AACnD,0EAAwE;AACxE,2CAAoC;AACpC,+CAA+C;AAC/C,kEAKiC;AAEjC,QAAQ,CAAC,sBAAsB,EAAE;IAC/B,IAAI,CAAC,uCAAuC,EAAE;QAC5C,MAAM,CAAC,8BAAoB,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC;IAC3E,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,iBAAiB,EAAE;QAC1B,MAAM,KAAK,GAAe,sCAAe,CAAC,cAAI,CAAC,CAAC;QAEhD,IAAI,CAAC,oDAAoD,EAAE;YACzD,MAAM,UAAU,GAAG,YAAY,CAAC,qBAAqB,CAAC,cAAI,CAAC,CAAC;YAC5D,MAAM,CACJ,UAAU,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,KAAK,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,CAC9C,CAAC,OAAO,CACP,UAAU,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,YAAY,CAAC,WAAW,CAAC,cAAI,EAAE,EAAE,CAAC,CAAC,CAC3D,CAAC;YACF,MAAM,CACJ,KAAK,CAAC,WAAW,CAAC,sCAAkB,CAAC,CACtC,CAAC,SAAS,EAAE,CAAC;QAChB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,2CAA2C,EAAE;YAChD,MAAM,UAAU,GAAG,YAAY,CAAC,qBAAqB,CAAC,cAAI,CAAC,CAAC;YAC5D,MAAM,CACJ,UAAU,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,KAAK,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,CAC9C,CAAC,OAAO,CACP,UAAU,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,YAAY,CAAC,WAAW,CAAC,cAAI,EAAE,EAAE,CAAC,CAAC,CAC3D,CAAC;QACJ,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,8CAA8C,EAAE;YACnD,MAAM,UAAU,GAAG,YAAY,CAAC,mBAAmB,CAAC,cAAI,CAAC,CAAC;YAC1D,MAAM,CACJ,UAAU,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAC3C,CAAC,OAAO,CACP,UAAU,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,YAAY,CAAC,QAAQ,CAAC,cAAI,EAAE,EAAE,CAAC,CAAC,CACxD,CAAC;YACF,MAAM,CACJ,KAAK,CAAC,QAAQ,CAAC,sCAAkB,CAAC,CACnC,CAAC,SAAS,EAAE,CAAC;QAChB,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,oBAAoB,EAAE;QAC7B,MAAM,QAAQ,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC;QAC3B,MAAM,KAAK,GAAkB,yCAAkB,CAAC,QAAQ,CAAC,CAAC;QAE1D,IAAI,CAAC,wCAAwC,EAAE;YAC7C,MAAM,SAAS,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE,CAAC;YAC3C,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;YACzB,MAAM,CAAC,QAAQ,CAAC,CAAC,oBAAoB,CACnC,oBAAW,CAAC,SAAS,CAAC,CACvB,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { createDraft } from '../../actions/drafts';\r\nimport { nonexistentSubject } from '../../mocks/data/messagesBySubject';\r\nimport data from '../../mocks/data';\r\nimport * as fromReducers from '../../reducers';\r\nimport MessageTreeContainer, {\r\n  StateProps,\r\n  DispatchProps,\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n} from '../MessageTreeContainer';\r\n\r\ndescribe('MessageTreeContainer', () => {\r\n  test('displayName is \"MessageTreeContainer\"', () => {\r\n    expect(MessageTreeContainer.displayName).toEqual('MessageTreeContainer');\r\n  });\r\n\r\n  describe('mapStateToProps', () => {\r\n    const props: StateProps = mapStateToProps(data);\r\n\r\n    test('hasMessages checks messages existence by subjectId', () => {\r\n      const subjectIds = fromReducers.getMessagesSubjectIds(data);\r\n      expect(\r\n        subjectIds.map((id) => props.hasMessages(id))\r\n      ).toEqual(\r\n        subjectIds.map((id) => fromReducers.hasMessages(data, id))\r\n      );\r\n      expect(\r\n        props.hasMessages(nonexistentSubject)\r\n      ).toBeFalsy();\r\n    });\r\n\r\n    test('getMessages returns messages by subjectId', () => {\r\n      const subjectIds = fromReducers.getMessagesSubjectIds(data);\r\n      expect(\r\n        subjectIds.map((id) => props.getMessages(id))\r\n      ).toEqual(\r\n        subjectIds.map((id) => fromReducers.getMessages(data, id))\r\n      );\r\n    });\r\n\r\n    test('hasDraft checks draft existence by subjectId', () => {\r\n      const subjectIds = fromReducers.getDraftsSubjectIds(data);\r\n      expect(\r\n        subjectIds.map((id) => props.hasDraft(id))\r\n      ).toEqual(\r\n        subjectIds.map((id) => fromReducers.hasDraft(data, id))\r\n      );\r\n      expect(\r\n        props.hasDraft(nonexistentSubject)\r\n      ).toBeFalsy();\r\n    });\r\n  });\r\n\r\n  describe('mapDispatchToProps', () => {\r\n    const dispatch = jest.fn();\r\n    const props: DispatchProps = mapDispatchToProps(dispatch);\r\n\r\n    test('onReply dispatches CREATE_DRAFT action', () => {\r\n      const subjectId = Math.random().toString();\r\n      props.onReply(subjectId);\r\n      expect(dispatch).toHaveBeenCalledWith(\r\n        createDraft(subjectId)\r\n      );\r\n    });\r\n  });\r\n});\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"c3eb1d089e59f7b182b3d8e72aa6803207e75588"}
,"D:\\projects\\message-tree\\src\\containers\\__tests__\\ReplyFormContainer.ts": {"path":"D:\\projects\\message-tree\\src\\containers\\__tests__\\ReplyFormContainer.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":17},"end":{"line":3,"column":48}},"4":{"start":{"line":4,"column":15},"end":{"line":4,"column":42}},"5":{"start":{"line":5,"column":26},"end":{"line":5,"column":69}},"6":{"start":{"line":6,"column":21},"end":{"line":6,"column":46}},"7":{"start":{"line":7,"column":29},"end":{"line":7,"column":61}},"8":{"start":{"line":8,"column":0},"end":{"line":39,"column":3}},"9":{"start":{"line":9,"column":4},"end":{"line":11,"column":7}},"10":{"start":{"line":10,"column":8},"end":{"line":10,"column":87}},"11":{"start":{"line":12,"column":4},"end":{"line":38,"column":7}},"12":{"start":{"line":13,"column":26},"end":{"line":13,"column":56}},"13":{"start":{"line":14,"column":25},"end":{"line":14,"column":34}},"14":{"start":{"line":15,"column":22},"end":{"line":15,"column":173}},"15":{"start":{"line":16,"column":8},"end":{"line":18,"column":11}},"16":{"start":{"line":17,"column":12},"end":{"line":17,"column":90}},"17":{"start":{"line":19,"column":8},"end":{"line":21,"column":11}},"18":{"start":{"line":20,"column":12},"end":{"line":20,"column":96}},"19":{"start":{"line":22,"column":8},"end":{"line":27,"column":11}},"20":{"start":{"line":23,"column":26},"end":{"line":23,"column":50}},"21":{"start":{"line":24,"column":12},"end":{"line":24,"column":94}},"22":{"start":{"line":25,"column":12},"end":{"line":25,"column":34}},"23":{"start":{"line":26,"column":12},"end":{"line":26,"column":90}},"24":{"start":{"line":28,"column":8},"end":{"line":32,"column":11}},"25":{"start":{"line":29,"column":12},"end":{"line":29,"column":86}},"26":{"start":{"line":30,"column":12},"end":{"line":30,"column":29}},"27":{"start":{"line":31,"column":12},"end":{"line":31,"column":82}},"28":{"start":{"line":33,"column":8},"end":{"line":37,"column":11}},"29":{"start":{"line":34,"column":12},"end":{"line":34,"column":87}},"30":{"start":{"line":35,"column":12},"end":{"line":35,"column":29}},"31":{"start":{"line":36,"column":12},"end":{"line":36,"column":83}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":31},"end":{"line":8,"column":32}},"loc":{"start":{"line":8,"column":37},"end":{"line":39,"column":1}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":48},"end":{"line":9,"column":49}},"loc":{"start":{"line":9,"column":54},"end":{"line":11,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":27},"end":{"line":12,"column":28}},"loc":{"start":{"line":12,"column":33},"end":{"line":38,"column":5}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":53},"end":{"line":16,"column":54}},"loc":{"start":{"line":16,"column":59},"end":{"line":18,"column":9}},"line":16},"4":{"name":"(anonymous_4)","decl":{"start":{"line":19,"column":56},"end":{"line":19,"column":57}},"loc":{"start":{"line":19,"column":62},"end":{"line":21,"column":9}},"line":19},"5":{"name":"(anonymous_5)","decl":{"start":{"line":22,"column":56},"end":{"line":22,"column":57}},"loc":{"start":{"line":22,"column":62},"end":{"line":27,"column":9}},"line":22},"6":{"name":"(anonymous_6)","decl":{"start":{"line":28,"column":55},"end":{"line":28,"column":56}},"loc":{"start":{"line":28,"column":61},"end":{"line":32,"column":9}},"line":28},"7":{"name":"(anonymous_7)","decl":{"start":{"line":33,"column":56},"end":{"line":33,"column":57}},"loc":{"start":{"line":33,"column":62},"end":{"line":37,"column":9}},"line":33}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"b":{},"inputSourceMap":{"version":3,"file":"ReplyFormContainer.js","sourceRoot":"","sources":["ReplyFormContainer.ts"],"names":[],"mappings":";;AAAA,iDAI8B;AAC9B,2CAAoC;AACpC,sEAAgE;AAChE,+CAA+C;AAE/C,8DAI+B;AAE/B,QAAQ,CAAC,oBAAoB,EAAE;IAC7B,IAAI,CAAC,qCAAqC,EAAE;QAC1C,MAAM,CAAC,4BAAkB,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,oBAAoB,CAAC,CAAC;IACvE,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,YAAY,EAAE;QACrB,MAAM,SAAS,GAAG,8BAAY,CAAC;QAC/B,MAAM,QAAQ,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC;QAC3B,MAAM,KAAK,GAAmB,+BAAU,CACtC,oCAAe,CAAC,cAAI,EAAE,EAAE,SAAS,EAAE,CAAC,EACpC,uCAAkB,CAAC,QAAQ,CAAC,CAC7B,CAAC;QAEF,IAAI,CAAC,sCAAsC,EAAE;YAC3C,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,OAAO,CACzB,YAAY,CAAC,QAAQ,CAAC,cAAI,EAAE,SAAS,CAAC,CACvC,CAAC;QACJ,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,yCAAyC,EAAE;YAC9C,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAC3B,YAAY,CAAC,YAAY,CAAC,cAAI,EAAE,SAAS,CAAC,CAC3C,CAAC;QACJ,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,yCAAyC,EAAE;YAC9C,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE,CAAC;YACvC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,oBAAoB,CACvC,oBAAW,CAAC,KAAK,EAAE,SAAS,CAAC,CAC9B,CAAC;YACF,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACtB,MAAM,CAAC,QAAQ,CAAC,CAAC,oBAAoB,CACnC,oBAAW,CAAC,KAAK,EAAE,SAAS,CAAC,CAC9B,CAAC;QACJ,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,wCAAwC,EAAE;YAC7C,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,oBAAoB,CACvC,mBAAU,CAAC,SAAS,CAAC,CACtB,CAAC;YACF,KAAK,CAAC,QAAQ,EAAE,CAAC;YACjB,MAAM,CAAC,QAAQ,CAAC,CAAC,oBAAoB,CACnC,mBAAU,CAAC,SAAS,CAAC,CACtB,CAAC;QACJ,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,yCAAyC,EAAE;YAC9C,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,oBAAoB,CACvC,oBAAW,CAAC,SAAS,CAAC,CACvB,CAAC;YACF,KAAK,CAAC,QAAQ,EAAE,CAAC;YACjB,MAAM,CAAC,QAAQ,CAAC,CAAC,oBAAoB,CACnC,oBAAW,CAAC,SAAS,CAAC,CACvB,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import {\r\n  changeDraft,\r\n  cleanDraft,\r\n  submitDraft\r\n} from '../../actions/drafts';\r\nimport data from '../../mocks/data';\r\nimport { validSubject } from '../../mocks/data/draftsBySubject';\r\nimport * as fromReducers from '../../reducers';\r\nimport { Props as ComponentProps } from '../../components/ReplyFormComponent';\r\nimport ReplyFormContainer, {\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n  mergeProps\r\n} from '../ReplyFormContainer';\r\n\r\ndescribe('ReplyFormContainer', () => {\r\n  test('displayName is \"ReplyFormContainer\"', () => {\r\n    expect(ReplyFormContainer.displayName).toEqual('ReplyFormContainer');\r\n  });\r\n\r\n  describe('mergeProps', () => {\r\n    const subjectId = validSubject;\r\n    const dispatch = jest.fn();\r\n    const props: ComponentProps = mergeProps(\r\n      mapStateToProps(data, { subjectId }),\r\n      mapDispatchToProps(dispatch)\r\n    );\r\n\r\n    test('properties contain appropriate draft', () => {\r\n      expect(props.draft).toEqual(\r\n        fromReducers.getDraft(data, subjectId)\r\n      );\r\n    });\r\n\r\n    test('properties contain validity information', () => {\r\n      expect(props.isValid).toEqual(\r\n        fromReducers.isDraftValid(data, subjectId)\r\n      );\r\n    });\r\n\r\n    test('onChange dispatches CHANGE_DRAFT action', () => {\r\n      const value = Math.random().toString();\r\n      expect(dispatch).not.toHaveBeenCalledWith(\r\n        changeDraft(value, subjectId)\r\n      );\r\n      props.onChange(value);\r\n      expect(dispatch).toHaveBeenCalledWith(\r\n        changeDraft(value, subjectId)\r\n      );\r\n    });\r\n\r\n    test('onCancel dispatches CLEAN_DRAFT action', () => {\r\n      expect(dispatch).not.toHaveBeenCalledWith(\r\n        cleanDraft(subjectId)\r\n      );\r\n      props.onCancel();\r\n      expect(dispatch).toHaveBeenCalledWith(\r\n        cleanDraft(subjectId)\r\n      );\r\n    });\r\n\r\n    test('onSubmit dispatches SUBMIT_DRAFT action', () => {\r\n      expect(dispatch).not.toHaveBeenCalledWith(\r\n        submitDraft(subjectId)\r\n      );\r\n      props.onSubmit();\r\n      expect(dispatch).toHaveBeenCalledWith(\r\n        submitDraft(subjectId)\r\n      );\r\n    });\r\n  });\r\n});\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"e72dcc88564740f6d27f8169112f4b520a61292b"}
,"D:\\projects\\message-tree\\src\\epics\\app.ts": {"path":"D:\\projects\\message-tree\\src\\epics\\app.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"4":{"start":{"line":4,"column":14},"end":{"line":4,"column":39}},"5":{"start":{"line":5,"column":0},"end":{"line":9,"column":2}},"6":{"start":{"line":6,"column":4},"end":{"line":8,"column":28}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":37}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":21},"end":{"line":5,"column":22}},"loc":{"start":{"line":5,"column":53},"end":{"line":9,"column":1}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"app.js","sourceRoot":"","sources":["app.ts"],"names":[],"mappings":";;AAAA,wCAAsC;AACtC,wCAGwB;AAGX,QAAA,UAAU,GAAqB,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE;IACrE,MAAM,CAAC,OAAO;SACX,MAAM,CAAC,cAAQ,CAAC;SAChB,UAAU,CAAC,MAAM,CAAC,CAAC;AACxB,CAAC,CAAC;AAEF,kBAAe,kBAAU,CAAC","sourcesContent":["import 'rxjs/add/operator/mergeMapTo';\r\nimport {\r\n  InitApp,\r\n  INIT_APP\r\n} from '../actions/app';\r\nimport { AppEpic } from './';\r\n\r\nexport const socketEpic: AppEpic<InitApp> = (action$, store, { socket }) => {\r\n  return action$\r\n    .ofType(INIT_APP)\r\n    .mergeMapTo(socket);\r\n};\r\n\r\nexport default socketEpic;\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"6cab88dbe936af38f5b8be51e02fafde097dd463"}
,"D:\\projects\\message-tree\\src\\epics\\drafts.ts": {"path":"D:\\projects\\message-tree\\src\\epics\\drafts.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":36}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":33}},"5":{"start":{"line":5,"column":17},"end":{"line":5,"column":45}},"6":{"start":{"line":6,"column":21},"end":{"line":6,"column":43}},"7":{"start":{"line":7,"column":0},"end":{"line":17,"column":2}},"8":{"start":{"line":8,"column":39},"end":{"line":8,"column":51}},"9":{"start":{"line":9,"column":4},"end":{"line":16,"column":7}},"10":{"start":{"line":11,"column":28},"end":{"line":11,"column":76}},"11":{"start":{"line":13,"column":22},"end":{"line":13,"column":66}},"12":{"start":{"line":14,"column":8},"end":{"line":14,"column":43}},"13":{"start":{"line":15,"column":8},"end":{"line":15,"column":53}},"14":{"start":{"line":18,"column":0},"end":{"line":18,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":22},"end":{"line":7,"column":23}},"loc":{"start":{"line":7,"column":54},"end":{"line":17,"column":1}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":16},"end":{"line":11,"column":17}},"loc":{"start":{"line":11,"column":28},"end":{"line":11,"column":76}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":13},"end":{"line":12,"column":14}},"loc":{"start":{"line":12,"column":25},"end":{"line":16,"column":5}},"line":12}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":2,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1},"f":{"0":2,"1":2,"2":1},"b":{},"inputSourceMap":{"version":3,"file":"drafts.js","sourceRoot":"","sources":["drafts.ts"],"names":[],"mappings":";;AACA,oCAAkC;AAClC,iCAA+B;AAC/B,8CAK2B;AAC3B,4CAA4C;AAG/B,QAAA,WAAW,GACtB,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE;IACzB,MAAM,EACJ,YAAY,EACZ,QAAQ,EACT,GAAG,YAAY,CAAC;IACjB,MAAM,CAAC,OAAO;SACX,MAAM,CAAC,qBAAY,CAAC;SACpB,MAAM,CAAC,CAAC,MAAM,KACb,YAAY,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,MAAM,CAAC,SAAS,CAAC,CACjD;SACA,GAAG,CAAC,CAAC,MAAM;QACV,MAAM,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC;QAC3D,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;QACnC,MAAM,CAAC,mBAAU,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AAEJ,kBAAe,mBAAW,CAAC","sourcesContent":["import { Observable } from 'rxjs';\r\nimport 'rxjs/add/operator/filter';\r\nimport 'rxjs/add/operator/map';\r\nimport {\r\n  CleanDraft,\r\n  cleanDraft,\r\n  SubmitDraft,\r\n  SUBMIT_DRAFT\r\n} from '../actions/drafts';\r\nimport * as fromReducers from '../reducers';\r\nimport { AppEpic } from './';\r\n\r\nexport const persistEpic: AppEpic<SubmitDraft> =\r\n  (action$, store, { socket }): Observable<CleanDraft> => {\r\n    const {\r\n      isDraftValid,\r\n      getDraft\r\n    } = fromReducers;\r\n    return action$\r\n      .ofType(SUBMIT_DRAFT)\r\n      .filter((action) =>\r\n        isDraftValid(store.getState(), action.subjectId)\r\n      )\r\n      .map((action) => {\r\n        const draft = getDraft(store.getState(), action.subjectId);\r\n        socket.next(JSON.stringify(draft));\r\n        return cleanDraft(action.subjectId);\r\n      });\r\n  };\r\n\r\nexport default persistEpic;\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"a710edca977b441dd0d7a3abdab027ebce1bcbb1"}
,"D:\\projects\\message-tree\\src\\epics\\__tests__\\app.ts": {"path":"D:\\projects\\message-tree\\src\\epics\\__tests__\\app.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":27},"end":{"line":3,"column":54}},"4":{"start":{"line":4,"column":18},"end":{"line":4,"column":48}},"5":{"start":{"line":5,"column":14},"end":{"line":5,"column":42}},"6":{"start":{"line":6,"column":14},"end":{"line":6,"column":31}},"7":{"start":{"line":7,"column":0},"end":{"line":19,"column":3}},"8":{"start":{"line":8,"column":18},"end":{"line":8,"column":49}},"9":{"start":{"line":9,"column":25},"end":{"line":9,"column":55}},"10":{"start":{"line":10,"column":4},"end":{"line":18,"column":7}},"11":{"start":{"line":11,"column":22},"end":{"line":11,"column":117}},"12":{"start":{"line":12,"column":30},"end":{"line":12,"column":56}},"13":{"start":{"line":13,"column":8},"end":{"line":15,"column":78}},"14":{"start":{"line":15,"column":36},"end":{"line":15,"column":76}},"15":{"start":{"line":16,"column":8},"end":{"line":16,"column":48}},"16":{"start":{"line":17,"column":8},"end":{"line":17,"column":39}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":23},"end":{"line":7,"column":24}},"loc":{"start":{"line":7,"column":29},"end":{"line":19,"column":1}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":37},"end":{"line":10,"column":38}},"loc":{"start":{"line":10,"column":43},"end":{"line":18,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":23},"end":{"line":15,"column":24}},"loc":{"start":{"line":15,"column":36},"end":{"line":15,"column":76}},"line":15}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1},"f":{"0":1,"1":1,"2":1},"b":{},"inputSourceMap":{"version":3,"file":"app.js","sourceRoot":"","sources":["app.ts"],"names":[],"mappings":";;AAAA,uDAAqD;AACrD,iDAG6B;AAC7B,2CAA4C;AAC5C,gCAAoC;AAEpC,QAAQ,CAAC,YAAY,EAAE;IACrB,MAAM,KAAK,GAAG,6BAAmB,EAAE,CAAC;IACpC,MAAM,YAAY,GAAG,4BAAkB,EAAE,CAAC;IAE1C,IAAI,CAAC,0BAA0B,EAAE;QAC/B,MAAM,KAAK,GAAG,gBAAU,CACtB,oCAAiB,CAAC,EAAE,CAAC,aAAO,EAAE,CAAC,EAC/B,KAAK,EACL,YAAY,CACb,CAAC;QACF,MAAM,aAAa,GAAG,EAAE,IAAI,EAAE,gBAAgB,EAAE,CAAC;QACjD,KAAK;aACF,OAAO,EAAE;aACT,SAAS,CAAC,CAAC,OAAO,KACjB,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,aAAa,CAAC,CAAC,CACzC,CAAC;QACJ,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACxC,YAAY,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;IACjC,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { ActionsObservable } from 'redux-observable';\r\nimport {\r\n  createMiddlewareAPI,\r\n  createDependencies\r\n} from '../../mocks/helpers';\r\nimport { initApp } from '../../actions/app';\r\nimport { socketEpic } from '../app';\r\n\r\ndescribe('socketEpic', () => {\r\n  const store = createMiddlewareAPI();\r\n  const dependencies = createDependencies();\r\n\r\n  test('produces socket messages', () => {\r\n    const epic$ = socketEpic(\r\n      ActionsObservable.of(initApp()),\r\n      store,\r\n      dependencies\r\n    );\r\n    const socketMessage = { type: 'SOCKET_MESSAGE' };\r\n    epic$\r\n      .toArray()\r\n      .subscribe((actions) =>\r\n        expect(actions).toEqual([socketMessage])\r\n      );    \r\n    dependencies.socket.next(socketMessage);\r\n    dependencies.socket.complete();\r\n  });\r\n});\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"1c4bf15cc00615395db19eb49413961587e8cd12"}
,"D:\\projects\\message-tree\\src\\epics\\__tests__\\drafts.ts": {"path":"D:\\projects\\message-tree\\src\\epics\\__tests__\\drafts.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":27},"end":{"line":3,"column":54}},"4":{"start":{"line":4,"column":18},"end":{"line":4,"column":48}},"5":{"start":{"line":5,"column":17},"end":{"line":5,"column":48}},"6":{"start":{"line":6,"column":26},"end":{"line":6,"column":69}},"7":{"start":{"line":7,"column":17},"end":{"line":7,"column":37}},"8":{"start":{"line":8,"column":0},"end":{"line":37,"column":3}},"9":{"start":{"line":9,"column":18},"end":{"line":9,"column":49}},"10":{"start":{"line":10,"column":25},"end":{"line":10,"column":55}},"11":{"start":{"line":11,"column":20},"end":{"line":11,"column":59}},"12":{"start":{"line":12,"column":4},"end":{"line":14,"column":7}},"13":{"start":{"line":13,"column":8},"end":{"line":13,"column":28}},"14":{"start":{"line":15,"column":4},"end":{"line":24,"column":7}},"15":{"start":{"line":16,"column":26},"end":{"line":16,"column":58}},"16":{"start":{"line":17,"column":22},"end":{"line":17,"column":137}},"17":{"start":{"line":18,"column":8},"end":{"line":23,"column":11}},"18":{"start":{"line":19,"column":12},"end":{"line":21,"column":15}},"19":{"start":{"line":20,"column":16},"end":{"line":20,"column":46}},"20":{"start":{"line":22,"column":12},"end":{"line":22,"column":53}},"21":{"start":{"line":25,"column":4},"end":{"line":36,"column":7}},"22":{"start":{"line":26,"column":26},"end":{"line":26,"column":56}},"23":{"start":{"line":27,"column":22},"end":{"line":27,"column":137}},"24":{"start":{"line":28,"column":8},"end":{"line":35,"column":11}},"25":{"start":{"line":29,"column":12},"end":{"line":33,"column":15}},"26":{"start":{"line":30,"column":16},"end":{"line":32,"column":19}},"27":{"start":{"line":34,"column":12},"end":{"line":34,"column":53}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":24},"end":{"line":8,"column":25}},"loc":{"start":{"line":8,"column":30},"end":{"line":37,"column":1}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":15},"end":{"line":12,"column":16}},"loc":{"start":{"line":12,"column":21},"end":{"line":14,"column":5}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":35},"end":{"line":15,"column":36}},"loc":{"start":{"line":15,"column":41},"end":{"line":24,"column":5}},"line":15},"3":{"name":"(anonymous_3)","decl":{"start":{"line":18,"column":25},"end":{"line":18,"column":26}},"loc":{"start":{"line":18,"column":31},"end":{"line":23,"column":9}},"line":18},"4":{"name":"(anonymous_4)","decl":{"start":{"line":19,"column":38},"end":{"line":19,"column":39}},"loc":{"start":{"line":19,"column":51},"end":{"line":21,"column":13}},"line":19},"5":{"name":"(anonymous_5)","decl":{"start":{"line":25,"column":31},"end":{"line":25,"column":32}},"loc":{"start":{"line":25,"column":37},"end":{"line":36,"column":5}},"line":25},"6":{"name":"(anonymous_6)","decl":{"start":{"line":28,"column":69},"end":{"line":28,"column":70}},"loc":{"start":{"line":28,"column":75},"end":{"line":35,"column":9}},"line":28},"7":{"name":"(anonymous_7)","decl":{"start":{"line":29,"column":38},"end":{"line":29,"column":39}},"loc":{"start":{"line":29,"column":51},"end":{"line":33,"column":13}},"line":29}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":2,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1},"f":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"b":{},"inputSourceMap":{"version":3,"file":"drafts.js","sourceRoot":"","sources":["drafts.ts"],"names":[],"mappings":";;AAAA,uDAAqD;AACrD,iDAG6B;AAC7B,iDAG8B;AAC9B,sEAG0C;AAC1C,sCAAwC;AAExC,QAAQ,CAAC,aAAa,EAAE;IACtB,MAAM,KAAK,GAAG,6BAAmB,EAAE,CAAC;IACpC,MAAM,YAAY,GAAG,4BAAkB,EAAE,CAAC;IAC1C,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IAExD,UAAU,CAAC;QACT,OAAO,CAAC,SAAS,EAAE,CAAC;IACtB,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,oBAAoB,EAAE;QAC7B,MAAM,SAAS,GAAG,gCAAc,CAAC;QACjC,MAAM,KAAK,GAAG,oBAAW,CACvB,oCAAiB,CAAC,EAAE,CAAC,oBAAW,CAAC,SAAS,CAAC,CAAC,EAC5C,KAAK,EACL,YAAY,CACb,CAAC;QAEF,IAAI,CAAC,UAAU,EAAE;YACf,KAAK,CAAC,OAAO,EAAE,CAAC,SAAS,CAAC,CAAC,OAAO;gBAChC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAChC,CAAC,CAAC,CAAC;YACH,MAAM,CAAC,OAAO,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,gBAAgB,EAAE;QACzB,MAAM,SAAS,GAAG,8BAAY,CAAC;QAC/B,MAAM,KAAK,GAAG,oBAAW,CACvB,oCAAiB,CAAC,EAAE,CAAC,oBAAW,CAAC,SAAS,CAAC,CAAC,EAC5C,KAAK,EACL,YAAY,CACb,CAAC;QAEF,IAAI,CAAC,sDAAsD,EAAE;YAC3D,KAAK,CAAC,OAAO,EAAE,CAAC,SAAS,CAAC,CAAC,OAAO;gBAChC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC;oBACtB,mBAAU,CAAC,SAAS,CAAC;iBACtB,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;YACH,MAAM,CAAC,OAAO,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { ActionsObservable } from 'redux-observable';\r\nimport {\r\n  createMiddlewareAPI,\r\n  createDependencies\r\n} from '../../mocks/helpers';\r\nimport {\r\n  submitDraft,\r\n  cleanDraft\r\n} from '../../actions/drafts';\r\nimport {\r\n  validSubject,\r\n  invalidSubject\r\n} from '../../mocks/data/draftsBySubject';\r\nimport { persistEpic } from '../drafts';\r\n\r\ndescribe('persistEpic', () => {\r\n  const store = createMiddlewareAPI();\r\n  const dependencies = createDependencies();\r\n  const nextSpy = jest.spyOn(dependencies.socket, 'next');\r\n\r\n  beforeEach(() => {\r\n    nextSpy.mockClear();\r\n  });\r\n\r\n  describe('draft is not valid', () => {\r\n    const subjectId = invalidSubject;\r\n    const epic$ = persistEpic(\r\n      ActionsObservable.of(submitDraft(subjectId)),\r\n      store,\r\n      dependencies\r\n    );\r\n\r\n    test('is empty', () => {\r\n      epic$.isEmpty().subscribe((isEmpty) => {\r\n        expect(isEmpty).toEqual(true);\r\n      });\r\n      expect(nextSpy).toHaveBeenCalledTimes(0);\r\n    });\r\n  });\r\n\r\n  describe('draft is valid', () => {\r\n    const subjectId = validSubject;\r\n    const epic$ = persistEpic(\r\n      ActionsObservable.of(submitDraft(subjectId)),\r\n      store,\r\n      dependencies\r\n    );\r\n\r\n    test('sends draft on server and produces CleanDraft action', () => {\r\n      epic$.toArray().subscribe((actions) => {\r\n        expect(actions).toEqual([\r\n          cleanDraft(subjectId)\r\n        ]);\r\n      });\r\n      expect(nextSpy).toHaveBeenCalledTimes(1);\r\n    });\r\n  });\r\n});\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"54694247bb4256b49a1c7f84ffec4636be2f2063"}
,"D:\\projects\\message-tree\\src\\mocks\\data\\draftsBySubject.ts": {"path":"D:\\projects\\message-tree\\src\\mocks\\data\\draftsBySubject.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":26},"end":{"line":3,"column":67}},"4":{"start":{"line":4,"column":13},"end":{"line":13,"column":1}},"5":{"start":{"line":14,"column":0},"end":{"line":14,"column":23}},"6":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"7":{"start":{"line":16,"column":0},"end":{"line":16,"column":28}},"8":{"start":{"line":17,"column":0},"end":{"line":17,"column":51}}},"fnMap":{},"branchMap":{},"s":{"0":6,"1":6,"2":6,"3":6,"4":6,"5":6,"6":6,"7":6,"8":6},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"draftsBySubject.js","sourceRoot":"","sources":["draftsBySubject.ts"],"names":[],"mappings":";;AAAA,oEAGwC;AAExC,MAAM,IAAI,GAAU;IAClB,CAAC,8BAAY,CAAC,EAAE;QACd,SAAS,EAAE,8BAAY;QACvB,IAAI,EAAE,EAAE;KACT;IACD,sCAAsC,EAAE;QACtC,SAAS,EAAE,sCAAsC;QACjD,IAAI,EAAE,QAAQ;KACf;CACF,CAAC;AAEF,kBAAe,IAAI,CAAC;AAEP,QAAA,YAAY,GAAG,sCAAsC,CAAC;AACtD,QAAA,cAAc,GAAG,EAAE,CAAC;AACpB,QAAA,kBAAkB,GAAG,qBAAqB,CAAC","sourcesContent":["import {\r\n  State,\r\n  emptySubject\r\n} from '../../reducers/draftsBySubject';\r\n\r\nconst data: State = {\r\n  [emptySubject]: {\r\n    subjectId: emptySubject,\r\n    text: ''\r\n  },\r\n  '6c6f1976-ff5b-420b-bc9d-f7484f0ee53f': {\r\n    subjectId: '6c6f1976-ff5b-420b-bc9d-f7484f0ee53f',\r\n    text: 'fourth'\r\n  }\r\n};\r\n\r\nexport default data;\r\n\r\nexport const validSubject = '6c6f1976-ff5b-420b-bc9d-f7484f0ee53f';\r\nexport const invalidSubject = '';\r\nexport const nonexistentSubject = 'nonexistent-subject';\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"f10b6afb0c1a45236d0b40c207d4d555921bf43f"}
,"D:\\projects\\message-tree\\src\\mocks\\data\\index.ts": {"path":"D:\\projects\\message-tree\\src\\mocks\\data\\index.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":26},"end":{"line":3,"column":54}},"4":{"start":{"line":4,"column":28},"end":{"line":4,"column":58}},"5":{"start":{"line":5,"column":13},"end":{"line":8,"column":1}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":23}}},"fnMap":{},"branchMap":{},"s":{"0":5,"1":5,"2":5,"3":5,"4":5,"5":5,"6":5},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"index.js","sourceRoot":"","sources":["index.ts"],"names":[],"mappings":";;AACA,uDAAgD;AAChD,2DAAoD;AAEpD,MAAM,IAAI,GAAU;IAClB,eAAe,EAAf,yBAAe;IACf,iBAAiB,EAAjB,2BAAiB;CAClB,CAAC;AAEF,kBAAe,IAAI,CAAC","sourcesContent":["import { State } from '../../reducers';\r\nimport draftsBySubject from './draftsBySubject';\r\nimport messagesBySubject from './messagesBySubject';\r\n\r\nconst data: State = {\r\n  draftsBySubject,\r\n  messagesBySubject\r\n};\r\n\r\nexport default data;\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"c22108015b8776e5ecfe547608337bddaa2d0c62"}
,"D:\\projects\\message-tree\\src\\mocks\\data\\messages.ts": {"path":"D:\\projects\\message-tree\\src\\mocks\\data\\messages.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":28},"end":{"line":3,"column":71}},"4":{"start":{"line":4,"column":13},"end":{"line":23,"column":1}},"5":{"start":{"line":24,"column":0},"end":{"line":24,"column":23}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"messages.js","sourceRoot":"","sources":["messages.ts"],"names":[],"mappings":";;AAAA,wEAG0C;AAE1C,MAAM,IAAI,GAAc;IACtB;QACE,SAAS,EAAE,gCAAY;QACvB,IAAI,EAAE,OAAO;QACb,EAAE,EAAE,sCAAsC;QAC1C,IAAI,EAAE,IAAI,IAAI,EAAE;KACjB;IACD;QACE,SAAS,EAAE,gCAAY;QACvB,IAAI,EAAE,OAAO;QACb,EAAE,EAAE,sCAAsC;QAC1C,IAAI,EAAE,IAAI,IAAI,EAAE;KACjB;IACD;QACE,SAAS,EAAE,sCAAsC;QACjD,IAAI,EAAE,QAAQ;QACd,EAAE,EAAE,sCAAsC;QAC1C,IAAI,EAAE,IAAI,IAAI,EAAE;KACjB;CACF,CAAC;AAEF,kBAAe,IAAI,CAAC","sourcesContent":["import {\r\n  Message,\r\n  emptySubject\r\n} from '../../reducers/messagesBySubject';\r\n\r\nconst data: Message[] = [\r\n  {\r\n    subjectId: emptySubject,\r\n    text: 'first',\r\n    id: '0a6a7bfd-a212-4ae1-8125-6c7486213a94',\r\n    date: new Date()\r\n  },\r\n  {\r\n    subjectId: emptySubject,\r\n    text: 'third',\r\n    id: '913d97b3-6e04-4c1e-a11c-222221abf00e',\r\n    date: new Date()\r\n  },\r\n  {\r\n    subjectId: '0a6a7bfd-a212-4ae1-8125-6c7486213a94',\r\n    text: 'second',\r\n    id: '6c6f1976-ff5b-420b-bc9d-f7484f0ee53f',\r\n    date: new Date()\r\n  }\r\n];\r\n\r\nexport default data;\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"c481caa7f9fe99901de8cb5849a3631a7fb4b227"}
,"D:\\projects\\message-tree\\src\\mocks\\data\\messagesBySubject.ts": {"path":"D:\\projects\\message-tree\\src\\mocks\\data\\messagesBySubject.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":28},"end":{"line":3,"column":71}},"4":{"start":{"line":4,"column":13},"end":{"line":27,"column":1}},"5":{"start":{"line":28,"column":0},"end":{"line":28,"column":23}},"6":{"start":{"line":29,"column":0},"end":{"line":29,"column":51}}},"fnMap":{},"branchMap":{},"s":{"0":6,"1":6,"2":6,"3":6,"4":6,"5":6,"6":6},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"messagesBySubject.js","sourceRoot":"","sources":["messagesBySubject.ts"],"names":[],"mappings":";;AAAA,wEAG0C;AAE1C,MAAM,IAAI,GAAU;IAClB,CAAC,gCAAY,CAAC,EAAE;QACd;YACE,SAAS,EAAE,gCAAY;YACvB,IAAI,EAAE,OAAO;YACb,EAAE,EAAE,sCAAsC;YAC1C,IAAI,EAAE,IAAI,IAAI,EAAE;SACjB;QACD;YACE,SAAS,EAAE,gCAAY;YACvB,IAAI,EAAE,OAAO;YACb,EAAE,EAAE,sCAAsC;YAC1C,IAAI,EAAE,IAAI,IAAI,EAAE;SACjB;KACF;IACD,sCAAsC,EAAE;QACtC;YACE,SAAS,EAAE,sCAAsC;YACjD,IAAI,EAAE,QAAQ;YACd,EAAE,EAAE,sCAAsC;YAC1C,IAAI,EAAE,IAAI,IAAI,EAAE;SACjB;KACF;CACF,CAAC;AAEF,kBAAe,IAAI,CAAC;AAEP,QAAA,kBAAkB,GAAG,qBAAqB,CAAC","sourcesContent":["import {\r\n  State,\r\n  emptySubject\r\n} from '../../reducers/messagesBySubject';\r\n\r\nconst data: State = {\r\n  [emptySubject]: [\r\n    {\r\n      subjectId: emptySubject,\r\n      text: 'first',\r\n      id: '0a6a7bfd-a212-4ae1-8125-6c7486213a94',\r\n      date: new Date()\r\n    },\r\n    {\r\n      subjectId: emptySubject,\r\n      text: 'third',\r\n      id: '913d97b3-6e04-4c1e-a11c-222221abf00e',\r\n      date: new Date()\r\n    }\r\n  ],\r\n  '0a6a7bfd-a212-4ae1-8125-6c7486213a94': [\r\n    {\r\n      subjectId: '0a6a7bfd-a212-4ae1-8125-6c7486213a94',\r\n      text: 'second',\r\n      id: '6c6f1976-ff5b-420b-bc9d-f7484f0ee53f',\r\n      date: new Date()\r\n    }\r\n  ]\r\n};\r\n\r\nexport default data;\r\n\r\nexport const nonexistentSubject = 'nonexistent-subject';\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"9e3582b343ee5113a45e9ea7614cde4f3fecfb57"}
,"D:\\projects\\message-tree\\src\\mocks\\helpers\\createDependencies.ts": {"path":"D:\\projects\\message-tree\\src\\mocks\\helpers\\createDependencies.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":15},"end":{"line":3,"column":30}},"4":{"start":{"line":5,"column":25},"end":{"line":5,"column":57}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":24}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":37}}},"fnMap":{"0":{"name":"createDependencies","decl":{"start":{"line":4,"column":9},"end":{"line":4,"column":27}},"loc":{"start":{"line":4,"column":30},"end":{"line":7,"column":1}},"line":4}},"branchMap":{},"s":{"0":2,"1":2,"2":2,"3":2,"4":2,"5":2,"6":2},"f":{"0":2},"b":{},"inputSourceMap":{"version":3,"file":"createDependencies.js","sourceRoot":"","sources":["createDependencies.ts"],"names":[],"mappings":";;AAAA,+BAA+B;AAG/B;IACE,MAAM,YAAY,GAAG,EAAE,MAAM,EAAE,IAAI,cAAO,EAAE,EAAE,CAAC;IAC/C,MAAM,CAAC,YAA4B,CAAC;AACtC,CAAC;AAHD,qCAGC","sourcesContent":["import { Subject } from 'rxjs';\r\nimport { Dependencies } from '../../epics';\r\n\r\nexport default function createDependencies(): Dependencies {\r\n  const dependencies = { socket: new Subject() };\r\n  return dependencies as Dependencies;\r\n}\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"f2733f3568d72ab632f6604f606309b5ab50cc17"}
,"D:\\projects\\message-tree\\src\\mocks\\helpers\\createMiddlewareAPI.ts": {"path":"D:\\projects\\message-tree\\src\\mocks\\helpers\\createMiddlewareAPI.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":15},"end":{"line":3,"column":33}},"4":{"start":{"line":5,"column":4},"end":{"line":8,"column":6}},"5":{"start":{"line":7,"column":32},"end":{"line":7,"column":46}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":38}}},"fnMap":{"0":{"name":"createMiddlewareAPI","decl":{"start":{"line":4,"column":9},"end":{"line":4,"column":28}},"loc":{"start":{"line":4,"column":31},"end":{"line":9,"column":1}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":26},"end":{"line":7,"column":27}},"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":46}},"line":7}},"branchMap":{},"s":{"0":2,"1":2,"2":2,"3":2,"4":2,"5":3,"6":2},"f":{"0":2,"1":3},"b":{},"inputSourceMap":{"version":3,"file":"createMiddlewareAPI.js","sourceRoot":"","sources":["createMiddlewareAPI.ts"],"names":[],"mappings":";;AAEA,kCAA2B;AAE3B;IACE,MAAM,CAAC;QACL,QAAQ,EAAE,IAAI,CAAC,EAAE,EAAE;QACnB,QAAQ,EAAE,IAAI,CAAC,EAAE,CAAC,MAAM,cAAI,CAAC;KAC9B,CAAC;AACJ,CAAC;AALD,sCAKC","sourcesContent":["import { MiddlewareAPI } from 'redux';\r\nimport { State } from '../../reducers';\r\nimport data from '../data';\r\n\r\nexport default function createMiddlewareAPI(): MiddlewareAPI<State> {\r\n  return {\r\n    dispatch: jest.fn(),\r\n    getState: jest.fn(() => data)\r\n  };\r\n}\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"30f6d80cba229f4b1c2901cec73cf9ed7466761e"}
,"D:\\projects\\message-tree\\src\\mocks\\helpers\\index.ts": {"path":"D:\\projects\\message-tree\\src\\mocks\\helpers\\index.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":28},"end":{"line":3,"column":60}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":60}},"5":{"start":{"line":5,"column":27},"end":{"line":5,"column":58}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":58}}},"fnMap":{},"branchMap":{},"s":{"0":2,"1":2,"2":2,"3":2,"4":2,"5":2,"6":2},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"index.js","sourceRoot":"","sources":["index.ts"],"names":[],"mappings":";;AAAA,6DAAuE;AAA9D,oDAAA,OAAO,CAAuB;AACvC,2DAAqE;AAA5D,kDAAA,OAAO,CAAsB","sourcesContent":["export { default as createMiddlewareAPI } from './createMiddlewareAPI';\r\nexport { default as createDependencies } from './createDependencies';\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"ee2c2d7636374e6ad21fe3fddbd7f4e5177b5ad4"}
,"D:\\projects\\message-tree\\src\\reducers\\draftsBySubject.ts": {"path":"D:\\projects\\message-tree\\src\\reducers\\draftsBySubject.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":17},"end":{"line":3,"column":45}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":26}},"5":{"start":{"line":5,"column":19},"end":{"line":8,"column":1}},"6":{"start":{"line":9,"column":0},"end":{"line":11,"column":2}},"7":{"start":{"line":13,"column":26},"end":{"line":13,"column":32}},"8":{"start":{"line":14,"column":4},"end":{"line":17,"column":13}},"9":{"start":{"line":19,"column":0},"end":{"line":19,"column":32}},"10":{"start":{"line":21,"column":32},"end":{"line":21,"column":38}},"11":{"start":{"line":22,"column":4},"end":{"line":22,"column":100}},"12":{"start":{"line":24,"column":0},"end":{"line":24,"column":32}},"13":{"start":{"line":26,"column":26},"end":{"line":26,"column":32}},"14":{"start":{"line":27,"column":19},"end":{"line":27,"column":43}},"15":{"start":{"line":28,"column":4},"end":{"line":30,"column":71}},"16":{"start":{"line":31,"column":4},"end":{"line":31,"column":18}},"17":{"start":{"line":33,"column":0},"end":{"line":33,"column":30}},"18":{"start":{"line":35,"column":4},"end":{"line":44,"column":5}},"19":{"start":{"line":37,"column":12},"end":{"line":37,"column":45}},"20":{"start":{"line":39,"column":12},"end":{"line":39,"column":45}},"21":{"start":{"line":41,"column":12},"end":{"line":41,"column":44}},"22":{"start":{"line":43,"column":12},"end":{"line":43,"column":25}},"23":{"start":{"line":46,"column":0},"end":{"line":46,"column":28}},"24":{"start":{"line":48,"column":4},"end":{"line":48,"column":30}},"25":{"start":{"line":50,"column":0},"end":{"line":50,"column":38}},"26":{"start":{"line":52,"column":4},"end":{"line":52,"column":28}},"27":{"start":{"line":54,"column":0},"end":{"line":54,"column":28}},"28":{"start":{"line":56,"column":4},"end":{"line":56,"column":43}},"29":{"start":{"line":58,"column":0},"end":{"line":58,"column":28}},"30":{"start":{"line":60,"column":4},"end":{"line":60,"column":75}},"31":{"start":{"line":62,"column":0},"end":{"line":62,"column":26}}},"fnMap":{"0":{"name":"createCase","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":19}},"loc":{"start":{"line":12,"column":35},"end":{"line":18,"column":1}},"line":12},"1":{"name":"changeCase","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":19}},"loc":{"start":{"line":20,"column":35},"end":{"line":23,"column":1}},"line":20},"2":{"name":"cleanCase","decl":{"start":{"line":25,"column":9},"end":{"line":25,"column":18}},"loc":{"start":{"line":25,"column":34},"end":{"line":32,"column":1}},"line":25},"3":{"name":"default_1","decl":{"start":{"line":34,"column":9},"end":{"line":34,"column":18}},"loc":{"start":{"line":34,"column":57},"end":{"line":45,"column":1}},"line":34},"4":{"name":"getSubjectIds","decl":{"start":{"line":47,"column":9},"end":{"line":47,"column":22}},"loc":{"start":{"line":47,"column":30},"end":{"line":49,"column":1}},"line":47},"5":{"name":"getDraft","decl":{"start":{"line":51,"column":9},"end":{"line":51,"column":17}},"loc":{"start":{"line":51,"column":59},"end":{"line":53,"column":1}},"line":51},"6":{"name":"hasDraft","decl":{"start":{"line":55,"column":9},"end":{"line":55,"column":17}},"loc":{"start":{"line":55,"column":59},"end":{"line":57,"column":1}},"line":55},"7":{"name":"isValid","decl":{"start":{"line":59,"column":9},"end":{"line":59,"column":16}},"loc":{"start":{"line":59,"column":58},"end":{"line":61,"column":1}},"line":59}},"branchMap":{"0":{"loc":{"start":{"line":28,"column":4},"end":{"line":30,"column":70}},"type":"cond-expr","locations":[{"start":{"line":29,"column":10},"end":{"line":29,"column":34}},{"start":{"line":30,"column":10},"end":{"line":30,"column":70}}],"line":28},"1":{"loc":{"start":{"line":34,"column":19},"end":{"line":34,"column":47}},"type":"default-arg","locations":[{"start":{"line":34,"column":27},"end":{"line":34,"column":47}}],"line":34},"2":{"loc":{"start":{"line":35,"column":4},"end":{"line":44,"column":5}},"type":"switch","locations":[{"start":{"line":36,"column":8},"end":{"line":37,"column":45}},{"start":{"line":38,"column":8},"end":{"line":39,"column":45}},{"start":{"line":40,"column":8},"end":{"line":41,"column":44}},{"start":{"line":42,"column":8},"end":{"line":43,"column":25}}],"line":35},"3":{"loc":{"start":{"line":51,"column":25},"end":{"line":51,"column":57}},"type":"default-arg","locations":[{"start":{"line":51,"column":37},"end":{"line":51,"column":57}}],"line":51},"4":{"loc":{"start":{"line":55,"column":25},"end":{"line":55,"column":57}},"type":"default-arg","locations":[{"start":{"line":55,"column":37},"end":{"line":55,"column":57}}],"line":55},"5":{"loc":{"start":{"line":59,"column":24},"end":{"line":59,"column":56}},"type":"default-arg","locations":[{"start":{"line":59,"column":36},"end":{"line":59,"column":56}}],"line":59},"6":{"loc":{"start":{"line":60,"column":11},"end":{"line":60,"column":74}},"type":"binary-expr","locations":[{"start":{"line":60,"column":11},"end":{"line":60,"column":37}},{"start":{"line":60,"column":41},"end":{"line":60,"column":74}}],"line":60}},"s":{"0":8,"1":8,"2":8,"3":8,"4":8,"5":8,"6":8,"7":1,"8":1,"9":8,"10":1,"11":1,"12":8,"13":2,"14":2,"15":2,"16":2,"17":8,"18":18,"19":1,"20":1,"21":2,"22":14,"23":8,"24":2,"25":8,"26":16,"27":8,"28":22,"29":8,"30":9,"31":8},"f":{"0":1,"1":1,"2":2,"3":18,"4":2,"5":16,"6":22,"7":9},"b":{"0":[1,1],"1":[13],"2":[1,1,2,14],"3":[1],"4":[1],"5":[1],"6":[9,8]},"inputSourceMap":{"version":3,"file":"draftsBySubject.js","sourceRoot":"","sources":["draftsBySubject.ts"],"names":[],"mappings":";;AAAA,8CAQ2B;AAad,QAAA,YAAY,GAAG,EAAE,CAAC;AAE/B,MAAM,UAAU,GAAoB;IAClC,SAAS,EAAE,oBAAY;IACvB,IAAI,EAAE,EAAE;CACT,CAAC;AAEW,QAAA,YAAY,GAAU;IACjC,CAAC,oBAAY,CAAC,oBAAO,UAAU,CAAE;CAClC,CAAC;AAEF,oBAA2B,KAAY,EAAE,MAAmB;IAC1D,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,CAAC;IAC7B,MAAM,mBACD,KAAK,IACR,CAAC,SAAS,CAAC,EAAE;YACX,SAAS;YACT,IAAI,EAAE,EAAE;SACT,IACD;AACJ,CAAC;AATD,gCASC;AAED,oBAA2B,KAAY,EAAE,MAAmB;IAC1D,MAAM,EACJ,SAAS,EACT,IAAI,EACL,GAAG,MAAM,CAAC;IACX,MAAM,mBACD,KAAK,IACR,CAAC,SAAS,CAAC,oBACN,KAAK,CAAC,SAAS,CAAC,IACnB,IAAI,OAEN;AACJ,CAAC;AAZD,gCAYC;AAED,mBAA0B,KAAY,EAAE,MAAkB;IACxD,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,CAAC;IAC7B,MAAM,MAAM,qBAAuB,KAAK,CAAE,CAAC;IAC3C,SAAS;UACL,OAAO,MAAM,CAAC,SAAS,CAAC;UACxB,MAAM,CAAC,oBAAY,CAAC,qBAAQ,UAAU,CAAE,CAAC;IAC7C,MAAM,CAAC,MAAM,CAAC;AAChB,CAAC;AAPD,8BAOC;AAED,mBACE,QAAe,oBAAY,EAC3B,MAAoB;IAEpB,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QACpB,KAAK,qBAAY;YACf,MAAM,CAAC,UAAU,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QACnC,KAAK,qBAAY;YACf,MAAM,CAAC,UAAU,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QACnC,KAAK,oBAAW;YACd,MAAM,CAAC,SAAS,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QAClC;YACE,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;AACH,CAAC;AAdD,4BAcC;AAED,uBAA8B,KAAY;IACxC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC5B,CAAC;AAFD,sCAEC;AAED,kBACE,KAAY,EACZ,YAAoB,oBAAY;IAEhC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;AAC1B,CAAC;AALD,4BAKC;AAED,kBACE,KAAY,EACZ,YAAoB,oBAAY;IAEhC,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;AACzC,CAAC;AALD,4BAKC;AAED,iBACE,KAAY,EACZ,YAAoB,oBAAY;IAEhC,MAAM,CAAC,QAAQ,CAAC,KAAK,EAAE,SAAS,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC,IAAI,CAAC;AACzE,CAAC;AALD,0BAKC","sourcesContent":["import {\r\n  CHANGE_DRAFT,\r\n  CLEAN_DRAFT,\r\n  CREATE_DRAFT,\r\n  DraftsAction,\r\n  ChangeDraft,\r\n  CleanDraft,\r\n  CreateDraft\r\n} from '../actions/drafts';\r\n\r\nexport interface Draft {\r\n  subjectId: string;\r\n  text: string;\r\n}\r\n\r\ninterface WritableState {\r\n  [subjectId: string]: Draft;\r\n}\r\n\r\nexport type State = Readonly<WritableState>;\r\n\r\nexport const emptySubject = '';\r\n\r\nconst emptyDraft: Readonly<Draft> = {\r\n  subjectId: emptySubject,\r\n  text: ''\r\n};\r\n\r\nexport const defaultState: State = {\r\n  [emptySubject]: { ...emptyDraft }\r\n};\r\n\r\nexport function createCase(state: State, action: CreateDraft): State {\r\n  const { subjectId } = action;\r\n  return {\r\n    ...state,\r\n    [subjectId]: {\r\n      subjectId,\r\n      text: ''\r\n    }\r\n  };\r\n}\r\n\r\nexport function changeCase(state: State, action: ChangeDraft): State {\r\n  const {\r\n    subjectId,\r\n    text\r\n  } = action;\r\n  return {\r\n    ...state,\r\n    [subjectId]: {\r\n      ...state[subjectId],\r\n      text\r\n    }\r\n  };\r\n}\r\n\r\nexport function cleanCase(state: State, action: CleanDraft): State {\r\n  const { subjectId } = action;\r\n  const result: WritableState = { ...state };\r\n  subjectId\r\n    ? delete result[subjectId]\r\n    : result[emptySubject] = { ...emptyDraft };  \r\n  return result;\r\n}\r\n\r\nexport default function(\r\n  state: State = defaultState,\r\n  action: DraftsAction\r\n): State {\r\n  switch (action.type) {\r\n    case CREATE_DRAFT:\r\n      return createCase(state, action);\r\n    case CHANGE_DRAFT:\r\n      return changeCase(state, action);\r\n    case CLEAN_DRAFT:\r\n      return cleanCase(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function getSubjectIds(state: State): string[] {\r\n  return Object.keys(state);\r\n}\r\n\r\nexport function getDraft(\r\n  state: State,\r\n  subjectId: string = emptySubject\r\n): Draft {\r\n  return state[subjectId];\r\n}\r\n\r\nexport function hasDraft(\r\n  state: State,\r\n  subjectId: string = emptySubject\r\n): boolean {\r\n  return state.hasOwnProperty(subjectId);\r\n}\r\n\r\nexport function isValid(\r\n  state: State,\r\n  subjectId: string = emptySubject\r\n): boolean {\r\n  return hasDraft(state, subjectId) && !!getDraft(state, subjectId).text;\r\n}\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"59dfd0a703873e02fd1ec95a44bb67c128afec12"}
,"D:\\projects\\message-tree\\src\\reducers\\index.ts": {"path":"D:\\projects\\message-tree\\src\\reducers\\index.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":16},"end":{"line":3,"column":32}},"4":{"start":{"line":4,"column":26},"end":{"line":4,"column":54}},"5":{"start":{"line":4,"column":78},"end":{"line":4,"column":95}},"6":{"start":{"line":5,"column":28},"end":{"line":5,"column":58}},"7":{"start":{"line":5,"column":84},"end":{"line":5,"column":103}},"8":{"start":{"line":6,"column":0},"end":{"line":9,"column":3}},"9":{"start":{"line":11,"column":4},"end":{"line":11,"column":72}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":54}},"11":{"start":{"line":15,"column":4},"end":{"line":15,"column":68}},"12":{"start":{"line":17,"column":0},"end":{"line":17,"column":50}},"13":{"start":{"line":19,"column":4},"end":{"line":19,"column":81}},"14":{"start":{"line":21,"column":0},"end":{"line":21,"column":34}},"15":{"start":{"line":23,"column":4},"end":{"line":23,"column":81}},"16":{"start":{"line":25,"column":0},"end":{"line":25,"column":34}},"17":{"start":{"line":27,"column":4},"end":{"line":27,"column":74}},"18":{"start":{"line":29,"column":0},"end":{"line":29,"column":28}},"19":{"start":{"line":31,"column":4},"end":{"line":31,"column":74}},"20":{"start":{"line":33,"column":0},"end":{"line":33,"column":28}},"21":{"start":{"line":35,"column":4},"end":{"line":35,"column":73}},"22":{"start":{"line":37,"column":0},"end":{"line":37,"column":36}}},"fnMap":{"0":{"name":"getMessagesSubjectIds","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":30}},"loc":{"start":{"line":10,"column":38},"end":{"line":12,"column":1}},"line":10},"1":{"name":"getDraftsSubjectIds","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":28}},"loc":{"start":{"line":14,"column":36},"end":{"line":16,"column":1}},"line":14},"2":{"name":"hasMessages","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":20}},"loc":{"start":{"line":18,"column":39},"end":{"line":20,"column":1}},"line":18},"3":{"name":"getMessages","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":20}},"loc":{"start":{"line":22,"column":39},"end":{"line":24,"column":1}},"line":22},"4":{"name":"hasDraft","decl":{"start":{"line":26,"column":9},"end":{"line":26,"column":17}},"loc":{"start":{"line":26,"column":36},"end":{"line":28,"column":1}},"line":26},"5":{"name":"getDraft","decl":{"start":{"line":30,"column":9},"end":{"line":30,"column":17}},"loc":{"start":{"line":30,"column":36},"end":{"line":32,"column":1}},"line":30},"6":{"name":"isDraftValid","decl":{"start":{"line":34,"column":9},"end":{"line":34,"column":21}},"loc":{"start":{"line":34,"column":40},"end":{"line":36,"column":1}},"line":34}},"branchMap":{},"s":{"0":6,"1":6,"2":6,"3":6,"4":6,"5":6,"6":6,"7":6,"8":6,"9":2,"10":6,"11":1,"12":6,"13":9,"14":6,"15":6,"16":6,"17":8,"18":6,"19":3,"20":6,"21":4,"22":6},"f":{"0":2,"1":1,"2":9,"3":6,"4":8,"5":3,"6":4},"b":{},"inputSourceMap":{"version":3,"file":"index.js","sourceRoot":"","sources":["index.ts"],"names":[],"mappings":";;AAAA,iCAAwC;AACxC,gGAA0E;AAC1E,wGAAgF;AAUhF,kBAAe,uBAAe,CAAQ;IACpC,eAAe,EAAf,yBAAe;IACf,iBAAiB,EAAjB,2BAAiB;CAClB,CAAC,CAAC;AAEH,+BAAsC,KAAY;IAChD,MAAM,CAAC,qBAAqB,CAAC,aAAa,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;AACtE,CAAC;AAFD,sDAEC;AAED,6BAAoC,KAAY;IAC9C,MAAM,CAAC,mBAAmB,CAAC,aAAa,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;AAClE,CAAC;AAFD,kDAEC;AAED,qBAA4B,KAAY,EAAE,SAAkB;IAC1D,MAAM,CAAC,qBAAqB,CAAC,WAAW,CAAC,KAAK,CAAC,iBAAiB,EAAE,SAAS,CAAC,CAAC;AAC/E,CAAC;AAFD,kCAEC;AAED,qBAA4B,KAAY,EAAE,SAAkB;IAC1D,MAAM,CAAC,qBAAqB,CAAC,WAAW,CAAC,KAAK,CAAC,iBAAiB,EAAE,SAAS,CAAC,CAAC;AAC/E,CAAC;AAFD,kCAEC;AAED,kBAAyB,KAAY,EAAE,SAAkB;IACvD,MAAM,CAAC,mBAAmB,CAAC,QAAQ,CAAC,KAAK,CAAC,eAAe,EAAE,SAAS,CAAC,CAAC;AACxE,CAAC;AAFD,4BAEC;AAED,kBAAyB,KAAY,EAAE,SAAkB;IACvD,MAAM,CAAC,mBAAmB,CAAC,QAAQ,CAAC,KAAK,CAAC,eAAe,EAAE,SAAS,CAAC,CAAC;AACxE,CAAC;AAFD,4BAEC;AAED,sBAA6B,KAAY,EAAE,SAAkB;IAC3D,MAAM,CAAC,mBAAmB,CAAC,OAAO,CAAC,KAAK,CAAC,eAAe,EAAE,SAAS,CAAC,CAAC;AACvE,CAAC;AAFD,oCAEC","sourcesContent":["import { combineReducers } from 'redux';\r\nimport draftsBySubject, * as fromDraftsBySubject from './draftsBySubject';\r\nimport messagesBySubject, * as fromMessagesBySubject from './messagesBySubject';\r\n\r\ntype Draft = fromDraftsBySubject.Draft;\r\ntype Message = fromMessagesBySubject.Message;\r\n\r\nexport interface State {\r\n  readonly draftsBySubject: fromDraftsBySubject.State;\r\n  readonly messagesBySubject: fromMessagesBySubject.State;\r\n}\r\n\r\nexport default combineReducers<State>({\r\n  draftsBySubject,\r\n  messagesBySubject\r\n});\r\n\r\nexport function getMessagesSubjectIds(state: State): string[] {\r\n  return fromMessagesBySubject.getSubjectIds(state.messagesBySubject);\r\n}\r\n\r\nexport function getDraftsSubjectIds(state: State): string[] {\r\n  return fromDraftsBySubject.getSubjectIds(state.draftsBySubject);\r\n}\r\n\r\nexport function hasMessages(state: State, subjectId?: string): boolean {\r\n  return fromMessagesBySubject.hasMessages(state.messagesBySubject, subjectId);\r\n}\r\n\r\nexport function getMessages(state: State, subjectId?: string): Message[] {\r\n  return fromMessagesBySubject.getMessages(state.messagesBySubject, subjectId);\r\n}\r\n\r\nexport function hasDraft(state: State, subjectId?: string): boolean {\r\n  return fromDraftsBySubject.hasDraft(state.draftsBySubject, subjectId);\r\n}\r\n\r\nexport function getDraft(state: State, subjectId?: string): Draft {\r\n  return fromDraftsBySubject.getDraft(state.draftsBySubject, subjectId);\r\n}\r\n\r\nexport function isDraftValid(state: State, subjectId?: string): boolean {\r\n  return fromDraftsBySubject.isValid(state.draftsBySubject, subjectId);\r\n}\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"c079c0544cfc54fb2b2b3cb722fce44b3ca3c832"}
,"D:\\projects\\message-tree\\src\\reducers\\messagesBySubject.ts": {"path":"D:\\projects\\message-tree\\src\\reducers\\messagesBySubject.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":19},"end":{"line":3,"column":49}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":26}},"5":{"start":{"line":6,"column":19},"end":{"line":6,"column":21}},"6":{"start":{"line":7,"column":4},"end":{"line":11,"column":7}},"7":{"start":{"line":8,"column":30},"end":{"line":8,"column":33}},"8":{"start":{"line":9,"column":25},"end":{"line":9,"column":48}},"9":{"start":{"line":10,"column":8},"end":{"line":10,"column":49}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":18}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":44}},"12":{"start":{"line":16,"column":48},"end":{"line":16,"column":54}},"13":{"start":{"line":17,"column":21},"end":{"line":17,"column":43}},"14":{"start":{"line":18,"column":4},"end":{"line":18,"column":79}},"15":{"start":{"line":20,"column":0},"end":{"line":20,"column":46}},"16":{"start":{"line":22,"column":4},"end":{"line":29,"column":5}},"17":{"start":{"line":24,"column":12},"end":{"line":24,"column":52}},"18":{"start":{"line":26,"column":12},"end":{"line":26,"column":51}},"19":{"start":{"line":28,"column":12},"end":{"line":28,"column":25}},"20":{"start":{"line":31,"column":0},"end":{"line":31,"column":28}},"21":{"start":{"line":33,"column":4},"end":{"line":33,"column":30}},"22":{"start":{"line":35,"column":0},"end":{"line":35,"column":38}},"23":{"start":{"line":37,"column":4},"end":{"line":37,"column":43}},"24":{"start":{"line":39,"column":0},"end":{"line":39,"column":34}},"25":{"start":{"line":41,"column":4},"end":{"line":41,"column":28}},"26":{"start":{"line":43,"column":0},"end":{"line":43,"column":34}}},"fnMap":{"0":{"name":"loadMessagesCase","decl":{"start":{"line":5,"column":9},"end":{"line":5,"column":25}},"loc":{"start":{"line":5,"column":41},"end":{"line":13,"column":1}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":28},"end":{"line":7,"column":29}},"loc":{"start":{"line":7,"column":37},"end":{"line":11,"column":5}},"line":7},"2":{"name":"appendMessageCase","decl":{"start":{"line":15,"column":9},"end":{"line":15,"column":26}},"loc":{"start":{"line":15,"column":42},"end":{"line":19,"column":1}},"line":15},"3":{"name":"default_1","decl":{"start":{"line":21,"column":9},"end":{"line":21,"column":18}},"loc":{"start":{"line":21,"column":39},"end":{"line":30,"column":1}},"line":21},"4":{"name":"getSubjectIds","decl":{"start":{"line":32,"column":9},"end":{"line":32,"column":22}},"loc":{"start":{"line":32,"column":30},"end":{"line":34,"column":1}},"line":32},"5":{"name":"hasMessages","decl":{"start":{"line":36,"column":9},"end":{"line":36,"column":20}},"loc":{"start":{"line":36,"column":62},"end":{"line":38,"column":1}},"line":36},"6":{"name":"getMessages","decl":{"start":{"line":40,"column":9},"end":{"line":40,"column":20}},"loc":{"start":{"line":40,"column":62},"end":{"line":42,"column":1}},"line":40}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":25},"end":{"line":9,"column":48}},"type":"binary-expr","locations":[{"start":{"line":9,"column":25},"end":{"line":9,"column":42}},{"start":{"line":9,"column":46},"end":{"line":9,"column":48}}],"line":9},"1":{"loc":{"start":{"line":17,"column":21},"end":{"line":17,"column":43}},"type":"binary-expr","locations":[{"start":{"line":17,"column":21},"end":{"line":17,"column":37}},{"start":{"line":17,"column":41},"end":{"line":17,"column":43}}],"line":17},"2":{"loc":{"start":{"line":21,"column":19},"end":{"line":21,"column":29}},"type":"default-arg","locations":[{"start":{"line":21,"column":27},"end":{"line":21,"column":29}}],"line":21},"3":{"loc":{"start":{"line":22,"column":4},"end":{"line":29,"column":5}},"type":"switch","locations":[{"start":{"line":23,"column":8},"end":{"line":24,"column":52}},{"start":{"line":25,"column":8},"end":{"line":26,"column":51}},{"start":{"line":27,"column":8},"end":{"line":28,"column":25}}],"line":22},"4":{"loc":{"start":{"line":36,"column":28},"end":{"line":36,"column":60}},"type":"default-arg","locations":[{"start":{"line":36,"column":40},"end":{"line":36,"column":60}}],"line":36},"5":{"loc":{"start":{"line":40,"column":28},"end":{"line":40,"column":60}},"type":"default-arg","locations":[{"start":{"line":40,"column":40},"end":{"line":40,"column":60}}],"line":40}},"s":{"0":8,"1":8,"2":8,"3":8,"4":8,"5":1,"6":1,"7":3,"8":3,"9":3,"10":1,"11":8,"12":3,"13":3,"14":3,"15":8,"16":18,"17":3,"18":1,"19":14,"20":8,"21":3,"22":8,"23":14,"24":8,"25":11,"26":8},"f":{"0":1,"1":3,"2":3,"3":18,"4":3,"5":14,"6":11},"b":{"0":[3,2],"1":[3,2],"2":[13],"3":[3,1,14],"4":[2],"5":[2]},"inputSourceMap":{"version":3,"file":"messagesBySubject.js","sourceRoot":"","sources":["messagesBySubject.ts"],"names":[],"mappings":";;AAAA,kDAM6B;AAehB,QAAA,YAAY,GAAG,EAAE,CAAC;AAE/B,0BAAiC,KAAY,EAAE,MAAoB;IACjE,MAAM,MAAM,GAAkB,EAAE,CAAC;IACjC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,GAAY;QACnC,MAAM,EAAE,SAAS,EAAE,GAAG,GAAG,CAAC;QAC1B,MAAM,QAAQ,GAAG,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;QACzC,MAAM,CAAC,SAAS,CAAC,GAAG,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAC3C,CAAC,CAAC,CAAC;IACH,MAAM,CAAC,MAAM,CAAC;AAChB,CAAC;AARD,4CAQC;AAED,2BAAkC,KAAY,EAAE,MAAqB;IACnE,MAAM,EACJ,OAAO,EACP,OAAO,EAAE,EAAE,SAAS,EAAE,EACvB,GAAG,MAAM,CAAC;IACX,MAAM,QAAQ,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;IACxC,MAAM,mBACD,KAAK,IACR,CAAC,SAAS,CAAC,EAAE,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,IACrC;AACJ,CAAC;AAVD,8CAUC;AAED,mBAAwB,QAAe,EAAE,EAAE,MAAsB;IAC/D,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QACpB,KAAK,yBAAc;YACjB,MAAM,CAAC,iBAAiB,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QAC1C,KAAK,wBAAa;YAChB,MAAM,CAAC,gBAAgB,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QACzC;YACE,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;AACH,CAAC;AATD,4BASC;AAED,uBAA8B,KAAY;IACxC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC5B,CAAC;AAFD,sCAEC;AAED,qBACE,KAAY,EACZ,YAAoB,oBAAY;IAEhC,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;AACzC,CAAC;AALD,kCAKC;AAED,qBACE,KAAY,EACZ,YAAoB,oBAAY;IAEhC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;AAC1B,CAAC;AALD,kCAKC","sourcesContent":["import {\r\n  APPEND_MESSAGE,\r\n  LOAD_MESSAGES,\r\n  MessagesAction,\r\n  AppendMessage,\r\n  LoadMessages\r\n} from '../actions/messages';\r\n\r\nexport interface Message {\r\n  id: string;\r\n  subjectId: string;\r\n  date: Date;\r\n  text: string;\r\n}\r\n\r\ninterface WritableState {\r\n  [subjectId: string]: Message[];\r\n}\r\n\r\nexport type State = Readonly<WritableState>;\r\n\r\nexport const emptySubject = '';\r\n\r\nexport function loadMessagesCase(state: State, action: LoadMessages): State {\r\n  const result: WritableState = {};\r\n  action.messages.forEach((msg: Message) => {\r\n    const { subjectId } = msg;\r\n    const messages = result[subjectId] || [];\r\n    result[subjectId] = messages.concat(msg);\r\n  });  \r\n  return result;\r\n}\r\n\r\nexport function appendMessageCase(state: State, action: AppendMessage): State {\r\n  const {\r\n    message,\r\n    message: { subjectId }\r\n  } = action;\r\n  const messages = state[subjectId] || [];\r\n  return {\r\n    ...state,\r\n    [subjectId]: messages.concat(message)\r\n  };\r\n}\r\n\r\nexport default function(state: State = {}, action: MessagesAction): State {\r\n  switch (action.type) {\r\n    case APPEND_MESSAGE:\r\n      return appendMessageCase(state, action);\r\n    case LOAD_MESSAGES:\r\n      return loadMessagesCase(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function getSubjectIds(state: State): string[] {\r\n  return Object.keys(state);\r\n}\r\n\r\nexport function hasMessages(\r\n  state: State,\r\n  subjectId: string = emptySubject\r\n): boolean {\r\n  return state.hasOwnProperty(subjectId);\r\n}\r\n\r\nexport function getMessages(\r\n  state: State,\r\n  subjectId: string = emptySubject\r\n): Message[] {\r\n  return state[subjectId];\r\n}\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"34e0452b2aed620d4f36018a56ce2ae877e2617c"}
,"D:\\projects\\message-tree\\src\\reducers\\__tests__\\draftsBySubject.ts": {"path":"D:\\projects\\message-tree\\src\\reducers\\__tests__\\draftsBySubject.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":17},"end":{"line":3,"column":48}},"4":{"start":{"line":4,"column":26},"end":{"line":4,"column":69}},"5":{"start":{"line":4,"column":82},"end":{"line":4,"column":99}},"6":{"start":{"line":5,"column":26},"end":{"line":5,"column":55}},"7":{"start":{"line":5,"column":79},"end":{"line":5,"column":96}},"8":{"start":{"line":6,"column":0},"end":{"line":8,"column":3}},"9":{"start":{"line":7,"column":4},"end":{"line":7,"column":57}},"10":{"start":{"line":9,"column":0},"end":{"line":12,"column":3}},"11":{"start":{"line":10,"column":43},"end":{"line":10,"column":62}},"12":{"start":{"line":11,"column":4},"end":{"line":11,"column":51}},"13":{"start":{"line":13,"column":0},"end":{"line":85,"column":3}},"14":{"start":{"line":14,"column":4},"end":{"line":24,"column":7}},"15":{"start":{"line":15,"column":23},"end":{"line":15,"column":42}},"16":{"start":{"line":16,"column":8},"end":{"line":19,"column":11}},"17":{"start":{"line":17,"column":28},"end":{"line":17,"column":72}},"18":{"start":{"line":18,"column":12},"end":{"line":18,"column":70}},"19":{"start":{"line":20,"column":8},"end":{"line":23,"column":11}},"20":{"start":{"line":21,"column":28},"end":{"line":21,"column":88}},"21":{"start":{"line":22,"column":12},"end":{"line":22,"column":63}},"22":{"start":{"line":25,"column":4},"end":{"line":38,"column":7}},"23":{"start":{"line":26,"column":26},"end":{"line":26,"column":53}},"24":{"start":{"line":27,"column":25},"end":{"line":27,"column":50}},"25":{"start":{"line":28,"column":24},"end":{"line":28,"column":92}},"26":{"start":{"line":29,"column":8},"end":{"line":31,"column":11}},"27":{"start":{"line":30,"column":12},"end":{"line":30,"column":47}},"28":{"start":{"line":32,"column":8},"end":{"line":34,"column":11}},"29":{"start":{"line":33,"column":12},"end":{"line":33,"column":72}},"30":{"start":{"line":35,"column":8},"end":{"line":37,"column":11}},"31":{"start":{"line":36,"column":12},"end":{"line":36,"column":51}},"32":{"start":{"line":39,"column":4},"end":{"line":54,"column":7}},"33":{"start":{"line":40,"column":26},"end":{"line":40,"column":47}},"34":{"start":{"line":41,"column":24},"end":{"line":41,"column":48}},"35":{"start":{"line":42,"column":25},"end":{"line":42,"column":50}},"36":{"start":{"line":43,"column":24},"end":{"line":43,"column":101}},"37":{"start":{"line":44,"column":8},"end":{"line":47,"column":11}},"38":{"start":{"line":45,"column":12},"end":{"line":45,"column":47}},"39":{"start":{"line":46,"column":12},"end":{"line":46,"column":69}},"40":{"start":{"line":48,"column":8},"end":{"line":50,"column":11}},"41":{"start":{"line":49,"column":12},"end":{"line":49,"column":72}},"42":{"start":{"line":51,"column":8},"end":{"line":53,"column":11}},"43":{"start":{"line":52,"column":12},"end":{"line":52,"column":61}},"44":{"start":{"line":55,"column":4},"end":{"line":84,"column":7}},"45":{"start":{"line":56,"column":8},"end":{"line":69,"column":11}},"46":{"start":{"line":57,"column":30},"end":{"line":57,"column":51}},"47":{"start":{"line":58,"column":29},"end":{"line":58,"column":54}},"48":{"start":{"line":59,"column":28},"end":{"line":59,"column":95}},"49":{"start":{"line":60,"column":12},"end":{"line":62,"column":15}},"50":{"start":{"line":61,"column":16},"end":{"line":61,"column":51}},"51":{"start":{"line":63,"column":12},"end":{"line":65,"column":15}},"52":{"start":{"line":64,"column":16},"end":{"line":64,"column":76}},"53":{"start":{"line":66,"column":12},"end":{"line":68,"column":15}},"54":{"start":{"line":67,"column":16},"end":{"line":67,"column":73}},"55":{"start":{"line":70,"column":8},"end":{"line":83,"column":11}},"56":{"start":{"line":71,"column":30},"end":{"line":71,"column":62}},"57":{"start":{"line":72,"column":29},"end":{"line":72,"column":54}},"58":{"start":{"line":73,"column":28},"end":{"line":73,"column":95}},"59":{"start":{"line":74,"column":12},"end":{"line":76,"column":15}},"60":{"start":{"line":75,"column":16},"end":{"line":75,"column":51}},"61":{"start":{"line":77,"column":12},"end":{"line":79,"column":15}},"62":{"start":{"line":78,"column":16},"end":{"line":78,"column":76}},"63":{"start":{"line":80,"column":12},"end":{"line":82,"column":15}},"64":{"start":{"line":81,"column":16},"end":{"line":81,"column":55}},"65":{"start":{"line":86,"column":0},"end":{"line":111,"column":3}},"66":{"start":{"line":87,"column":4},"end":{"line":89,"column":7}},"67":{"start":{"line":88,"column":8},"end":{"line":88,"column":125}},"68":{"start":{"line":90,"column":4},"end":{"line":96,"column":7}},"69":{"start":{"line":91,"column":29},"end":{"line":91,"column":48}},"70":{"start":{"line":92,"column":8},"end":{"line":93,"column":106}},"71":{"start":{"line":93,"column":36},"end":{"line":93,"column":104}},"72":{"start":{"line":94,"column":8},"end":{"line":94,"column":96}},"73":{"start":{"line":95,"column":8},"end":{"line":95,"column":131}},"74":{"start":{"line":97,"column":4},"end":{"line":103,"column":7}},"75":{"start":{"line":98,"column":29},"end":{"line":98,"column":48}},"76":{"start":{"line":99,"column":8},"end":{"line":100,"column":138}},"77":{"start":{"line":100,"column":36},"end":{"line":100,"column":136}},"78":{"start":{"line":101,"column":8},"end":{"line":101,"column":97}},"79":{"start":{"line":102,"column":8},"end":{"line":102,"column":131}},"80":{"start":{"line":104,"column":4},"end":{"line":110,"column":7}},"81":{"start":{"line":105,"column":28},"end":{"line":105,"column":47}},"82":{"start":{"line":106,"column":8},"end":{"line":106,"column":95}},"83":{"start":{"line":107,"column":8},"end":{"line":107,"column":91}},"84":{"start":{"line":108,"column":8},"end":{"line":108,"column":88}},"85":{"start":{"line":109,"column":8},"end":{"line":109,"column":129}},"86":{"start":{"line":113,"column":4},"end":{"line":115,"column":71}},"87":{"start":{"line":114,"column":25},"end":{"line":114,"column":42}},"88":{"start":{"line":115,"column":26},"end":{"line":115,"column":69}},"89":{"start":{"line":118,"column":18},"end":{"line":118,"column":34}},"90":{"start":{"line":119,"column":4},"end":{"line":119,"column":32}},"91":{"start":{"line":120,"column":4},"end":{"line":120,"column":47}},"92":{"start":{"line":121,"column":4},"end":{"line":121,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":37},"end":{"line":6,"column":38}},"loc":{"start":{"line":6,"column":43},"end":{"line":8,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":36},"end":{"line":9,"column":37}},"loc":{"start":{"line":9,"column":42},"end":{"line":12,"column":1}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":36},"end":{"line":13,"column":37}},"loc":{"start":{"line":13,"column":42},"end":{"line":85,"column":1}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":14,"column":29},"end":{"line":14,"column":30}},"loc":{"start":{"line":14,"column":35},"end":{"line":24,"column":5}},"line":14},"4":{"name":"(anonymous_4)","decl":{"start":{"line":16,"column":68},"end":{"line":16,"column":69}},"loc":{"start":{"line":16,"column":74},"end":{"line":19,"column":9}},"line":16},"5":{"name":"(anonymous_5)","decl":{"start":{"line":20,"column":39},"end":{"line":20,"column":40}},"loc":{"start":{"line":20,"column":45},"end":{"line":23,"column":9}},"line":20},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":34},"end":{"line":25,"column":35}},"loc":{"start":{"line":25,"column":40},"end":{"line":38,"column":5}},"line":25},"7":{"name":"(anonymous_7)","decl":{"start":{"line":29,"column":35},"end":{"line":29,"column":36}},"loc":{"start":{"line":29,"column":41},"end":{"line":31,"column":9}},"line":29},"8":{"name":"(anonymous_8)","decl":{"start":{"line":32,"column":43},"end":{"line":32,"column":44}},"loc":{"start":{"line":32,"column":49},"end":{"line":34,"column":9}},"line":32},"9":{"name":"(anonymous_9)","decl":{"start":{"line":35,"column":36},"end":{"line":35,"column":37}},"loc":{"start":{"line":35,"column":42},"end":{"line":37,"column":9}},"line":35},"10":{"name":"(anonymous_10)","decl":{"start":{"line":39,"column":34},"end":{"line":39,"column":35}},"loc":{"start":{"line":39,"column":40},"end":{"line":54,"column":5}},"line":39},"11":{"name":"(anonymous_11)","decl":{"start":{"line":44,"column":35},"end":{"line":44,"column":36}},"loc":{"start":{"line":44,"column":41},"end":{"line":47,"column":9}},"line":44},"12":{"name":"(anonymous_12)","decl":{"start":{"line":48,"column":43},"end":{"line":48,"column":44}},"loc":{"start":{"line":48,"column":49},"end":{"line":50,"column":9}},"line":48},"13":{"name":"(anonymous_13)","decl":{"start":{"line":51,"column":38},"end":{"line":51,"column":39}},"loc":{"start":{"line":51,"column":44},"end":{"line":53,"column":9}},"line":51},"14":{"name":"(anonymous_14)","decl":{"start":{"line":55,"column":33},"end":{"line":55,"column":34}},"loc":{"start":{"line":55,"column":39},"end":{"line":84,"column":5}},"line":55},"15":{"name":"(anonymous_15)","decl":{"start":{"line":56,"column":38},"end":{"line":56,"column":39}},"loc":{"start":{"line":56,"column":44},"end":{"line":69,"column":9}},"line":56},"16":{"name":"(anonymous_16)","decl":{"start":{"line":60,"column":39},"end":{"line":60,"column":40}},"loc":{"start":{"line":60,"column":45},"end":{"line":62,"column":13}},"line":60},"17":{"name":"(anonymous_17)","decl":{"start":{"line":63,"column":47},"end":{"line":63,"column":48}},"loc":{"start":{"line":63,"column":53},"end":{"line":65,"column":13}},"line":63},"18":{"name":"(anonymous_18)","decl":{"start":{"line":66,"column":34},"end":{"line":66,"column":35}},"loc":{"start":{"line":66,"column":40},"end":{"line":68,"column":13}},"line":66},"19":{"name":"(anonymous_19)","decl":{"start":{"line":70,"column":34},"end":{"line":70,"column":35}},"loc":{"start":{"line":70,"column":40},"end":{"line":83,"column":9}},"line":70},"20":{"name":"(anonymous_20)","decl":{"start":{"line":74,"column":39},"end":{"line":74,"column":40}},"loc":{"start":{"line":74,"column":45},"end":{"line":76,"column":13}},"line":74},"21":{"name":"(anonymous_21)","decl":{"start":{"line":77,"column":47},"end":{"line":77,"column":48}},"loc":{"start":{"line":77,"column":53},"end":{"line":79,"column":13}},"line":77},"22":{"name":"(anonymous_22)","decl":{"start":{"line":80,"column":34},"end":{"line":80,"column":35}},"loc":{"start":{"line":80,"column":40},"end":{"line":82,"column":13}},"line":80},"23":{"name":"(anonymous_23)","decl":{"start":{"line":86,"column":38},"end":{"line":86,"column":39}},"loc":{"start":{"line":86,"column":44},"end":{"line":111,"column":1}},"line":86},"24":{"name":"(anonymous_24)","decl":{"start":{"line":87,"column":50},"end":{"line":87,"column":51}},"loc":{"start":{"line":87,"column":56},"end":{"line":89,"column":5}},"line":87},"25":{"name":"(anonymous_25)","decl":{"start":{"line":90,"column":61},"end":{"line":90,"column":62}},"loc":{"start":{"line":90,"column":67},"end":{"line":96,"column":5}},"line":90},"26":{"name":"(anonymous_26)","decl":{"start":{"line":93,"column":21},"end":{"line":93,"column":22}},"loc":{"start":{"line":93,"column":36},"end":{"line":93,"column":104}},"line":93},"27":{"name":"(anonymous_27)","decl":{"start":{"line":97,"column":48},"end":{"line":97,"column":49}},"loc":{"start":{"line":97,"column":54},"end":{"line":103,"column":5}},"line":97},"28":{"name":"(anonymous_28)","decl":{"start":{"line":100,"column":21},"end":{"line":100,"column":22}},"loc":{"start":{"line":100,"column":36},"end":{"line":100,"column":136}},"line":100},"29":{"name":"(anonymous_29)","decl":{"start":{"line":104,"column":59},"end":{"line":104,"column":60}},"loc":{"start":{"line":104,"column":65},"end":{"line":110,"column":5}},"line":104},"30":{"name":"expectOtherDraftsArePreserved","decl":{"start":{"line":112,"column":9},"end":{"line":112,"column":38}},"loc":{"start":{"line":112,"column":69},"end":{"line":116,"column":1}},"line":112},"31":{"name":"(anonymous_31)","decl":{"start":{"line":114,"column":16},"end":{"line":114,"column":17}},"loc":{"start":{"line":114,"column":25},"end":{"line":114,"column":42}},"line":114},"32":{"name":"(anonymous_32)","decl":{"start":{"line":115,"column":17},"end":{"line":115,"column":18}},"loc":{"start":{"line":115,"column":26},"end":{"line":115,"column":69}},"line":115},"33":{"name":"expectDraftIsEmpty","decl":{"start":{"line":117,"column":9},"end":{"line":117,"column":27}},"loc":{"start":{"line":117,"column":46},"end":{"line":122,"column":1}},"line":117}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":2,"72":1,"73":1,"74":1,"75":1,"76":1,"77":2,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":4,"87":8,"88":5,"89":3,"90":3,"91":3,"92":3},"f":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":2,"27":1,"28":2,"29":1,"30":4,"31":8,"32":5,"33":3},"b":{},"inputSourceMap":{"version":3,"file":"draftsBySubject.js","sourceRoot":"","sources":["draftsBySubject.ts"],"names":[],"mappings":";;AAAA,iDAI8B;AAC9B,oGAAmE;AACnE,iGAAmE;AAInE,IAAI,CAAC,8BAA8B,EAAE;IACnC,MAAM,CAAC,mBAAmB,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;AACvD,CAAC,CAAC,CAAC;AAEH,IAAI,CAAC,6BAA6B,EAAE;IAClC,MAAM,EACJ,YAAY,EACZ,YAAY,EACb,GAAG,mBAAmB,CAAC;IACxB,kBAAkB,CAAC,YAAY,EAAE,YAAY,CAAC,CAAC;AACjD,CAAC,CAAC,CAAC;AAEH,QAAQ,CAAC,yBAAyB,EAAE;IAClC,QAAQ,CAAC,cAAc,EAAE;QACvB,MAAM,MAAM,GAAG,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;QAEnC,IAAI,CAAC,qDAAqD,EAAE;YAC1D,MAAM,OAAO,GAAI,yBAAe,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;YACpD,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,mBAAmB,CAAC,YAAY,CAAC,CAAC;QAC5D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,wBAAwB,EAAE;YAC7B,MAAM,OAAO,GAAI,yBAAe,CAAC,yBAAI,EAAE,MAAM,CAAC,CAAC;YAC/C,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,yBAAI,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,mBAAmB,EAAE;QAC5B,MAAM,SAAS,GAAG,QAAQ,CAAC,kBAAkB,CAAC;QAC9C,MAAM,QAAQ,GAAG,yBAAI,CAAC;QACtB,MAAM,OAAO,GAAG,yBAAO,CAAC,QAAQ,EAAE,oBAAW,CAAC,SAAS,CAAC,CAAC,CAAC;QAE1D,IAAI,CAAC,oBAAoB,EAAE;YACzB,MAAM,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,4BAA4B,EAAE;YACjC,6BAA6B,CAAC,QAAQ,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC;QAC9D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,qBAAqB,EAAE;YAC1B,kBAAkB,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,mBAAmB,EAAE;QAC5B,MAAM,SAAS,GAAG,QAAQ,CAAC,YAAY,CAAC;QACxC,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE,CAAC;QACzC,MAAM,QAAQ,GAAU,yBAAI,CAAC;QAC7B,MAAM,OAAO,GAAU,yBAAO,CAAC,QAAQ,EAAE,oBAAW,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC,CAAC;QAE1E,IAAI,CAAC,oBAAoB,EAAE;YACzB,MAAM,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACnC,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC;QAC3D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,4BAA4B,EAAE;YACjC,6BAA6B,CAAC,QAAQ,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC;QAC9D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,uBAAuB,EAAE;YAC5B,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,kBAAkB,EAAE;QAC3B,QAAQ,CAAC,mBAAmB,EAAE;YAC5B,MAAM,SAAS,GAAG,QAAQ,CAAC,YAAY,CAAC;YACxC,MAAM,QAAQ,GAAU,yBAAI,CAAC;YAC7B,MAAM,OAAO,GAAU,yBAAO,CAAC,QAAQ,EAAE,mBAAU,CAAC,SAAS,CAAC,CAAC,CAAC;YAEhE,IAAI,CAAC,oBAAoB,EAAE;gBACzB,MAAM,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACrC,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,4BAA4B,EAAE;gBACjC,6BAA6B,CAAC,QAAQ,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC;YAC9D,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,eAAe,EAAE;gBACpB,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YAC3D,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,eAAe,EAAE;YACxB,MAAM,SAAS,GAAG,mBAAmB,CAAC,YAAY,CAAC;YACnD,MAAM,QAAQ,GAAU,yBAAI,CAAC;YAC7B,MAAM,OAAO,GAAU,yBAAO,CAAC,QAAQ,EAAE,mBAAU,CAAC,SAAS,CAAC,CAAC,CAAC;YAEhE,IAAI,CAAC,oBAAoB,EAAE;gBACzB,MAAM,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACrC,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,4BAA4B,EAAE;gBACjC,6BAA6B,CAAC,QAAQ,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC;YAC9D,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,eAAe,EAAE;gBACpB,kBAAkB,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;YACzC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,QAAQ,CAAC,2BAA2B,EAAE;IACpC,IAAI,CAAC,uCAAuC,EAAE;QAC5C,MAAM,CACJ,mBAAmB,CAAC,aAAa,CAAC,yBAAI,CAAC,CACxC,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,yBAAI,CAAC,CAAC,CAAC;IAC/B,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,kDAAkD,EAAE;QACvD,MAAM,EAAE,QAAQ,EAAE,GAAG,mBAAmB,CAAC;QAEzC,MAAM,CAAC,IAAI,CAAC,yBAAI,CAAC;aACd,OAAO,CAAC,CAAC,SAAS,KACjB,MAAM,CAAC,QAAQ,CAAC,yBAAI,EAAE,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAChD,CAAC;QACJ,MAAM,CAAC,QAAQ,CAAC,yBAAI,EAAE,QAAQ,CAAC,kBAAkB,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACnE,MAAM,CACJ,QAAQ,CAAC,yBAAI,CAAC,CACf,CAAC,OAAO,CACP,QAAQ,CAAC,yBAAI,EAAE,mBAAmB,CAAC,YAAY,CAAC,CACjD,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,qCAAqC,EAAE;QAC1C,MAAM,EAAE,QAAQ,EAAE,GAAG,mBAAmB,CAAC;QAEzC,MAAM,CAAC,IAAI,CAAC,yBAAI,CAAC;aACd,OAAO,CAAC,CAAC,SAAS,KACjB,MAAM,CAAC,QAAQ,CAAC,yBAAI,EAAE,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,yBAAI,CAAC,SAAS,CAAC,CAAC,CAC3D,CAAC;QACJ,MAAM,CAAC,QAAQ,CAAC,yBAAI,EAAE,QAAQ,CAAC,kBAAkB,CAAC,CAAC,CAAC,aAAa,EAAE,CAAC;QACpE,MAAM,CACJ,QAAQ,CAAC,yBAAI,CAAC,CACf,CAAC,OAAO,CACP,QAAQ,CAAC,yBAAI,EAAE,mBAAmB,CAAC,YAAY,CAAC,CACjD,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,gDAAgD,EAAE;QACrD,MAAM,EAAE,OAAO,EAAE,GAAG,mBAAmB,CAAC;QAExC,MAAM,CAAC,OAAO,CAAC,yBAAI,EAAE,QAAQ,CAAC,kBAAkB,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAClE,MAAM,CAAC,OAAO,CAAC,yBAAI,EAAE,QAAQ,CAAC,cAAc,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAC9D,MAAM,CAAC,OAAO,CAAC,yBAAI,EAAE,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC3D,MAAM,CACJ,OAAO,CAAC,yBAAI,CAAC,CACd,CAAC,OAAO,CACP,OAAO,CAAC,yBAAI,EAAE,mBAAmB,CAAC,YAAY,CAAC,CAChD,CAAC;IACJ,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,uCACE,QAAe,EACf,OAAc,EACd,SAAiB;IAEjB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;SAClB,MAAM,CAAC,CAAC,GAAG,KAAK,GAAG,KAAK,SAAS,CAAC;SAClC,OAAO,CAAC,CAAC,GAAG,KAAK,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACnE,CAAC;AAED,4BAA4B,KAAY,EAAE,SAAiB;IACzD,MAAM,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC;IAC/B,MAAM,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,CAAC;IAC5B,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;IAC3C,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;AACjC,CAAC","sourcesContent":["import {\r\n  changeDraft,\r\n  cleanDraft,\r\n  createDraft\r\n} from '../../actions/drafts';\r\nimport data, * as fromData from '../../mocks/data/draftsBySubject';\r\nimport reducer, * as fromDraftsBySubject from '../draftsBySubject';\r\n\r\ntype State = fromDraftsBySubject.State;\r\n\r\ntest('emptySubject is empty string', () => {\r\n  expect(fromDraftsBySubject.emptySubject).toEqual('');\r\n});\r\n\r\ntest('defaultState is empty draft', () => {\r\n  const {\r\n    defaultState,\r\n    emptySubject\r\n  } = fromDraftsBySubject;\r\n  expectDraftIsEmpty(defaultState, emptySubject);\r\n});\r\n\r\ndescribe('draftsBySubject reducer', () => {\r\n  describe('default case', () => {\r\n    const action = { type: 'DEFAULT' };\r\n\r\n    test('returns defaultState if previous state is undefined', () => {\r\n      const current = (reducer as any)(undefined, action);\r\n      expect(current).toEqual(fromDraftsBySubject.defaultState);\r\n    });\r\n\r\n    test('returns previous state', () => {\r\n      const current = (reducer as any)(data, action);\r\n      expect(current).toEqual(data);\r\n    });\r\n  });\r\n\r\n  describe('CREATE_DRAFT case', () => {\r\n    const subjectId = fromData.nonexistentSubject;\r\n    const previous = data;\r\n    const current = reducer(previous, createDraft(subjectId));\r\n\r\n    test('state is immutable', () => {\r\n      expect(current).not.toBe(previous);\r\n    });\r\n\r\n    test('other drafts are preserved', () => {\r\n      expectOtherDraftsArePreserved(previous, current, subjectId);\r\n    });\r\n\r\n    test('creates empty draft', () => {\r\n      expectDraftIsEmpty(current, subjectId);\r\n    });\r\n  });\r\n\r\n  describe('CHANGE_DRAFT case', () => {\r\n    const subjectId = fromData.validSubject;\r\n    const newText = Math.random().toString();\r\n    const previous: State = data;\r\n    const current: State = reducer(previous, changeDraft(newText, subjectId));\r\n\r\n    test('state is immutable', () => {\r\n      expect(current).not.toBe(previous);\r\n      expect(current[subjectId]).not.toBe(previous[subjectId]);\r\n    });\r\n\r\n    test('other drafts are preserved', () => {\r\n      expectOtherDraftsArePreserved(previous, current, subjectId);\r\n    });\r\n\r\n    test('changes text of draft', () => {\r\n      expect(current[subjectId].text).toEqual(newText);\r\n    });\r\n  });\r\n\r\n  describe('CLEAN_DRAFT case', () => {\r\n    describe('non empty subject', () => {\r\n      const subjectId = fromData.validSubject;\r\n      const previous: State = data;\r\n      const current: State = reducer(previous, cleanDraft(subjectId));\r\n\r\n      test('state is immutable', () => {\r\n        expect(current).not.toBe(previous);\r\n      });\r\n\r\n      test('other drafts are preserved', () => {\r\n        expectOtherDraftsArePreserved(previous, current, subjectId);\r\n      });\r\n\r\n      test('removes draft', () => {\r\n        expect(current.hasOwnProperty(subjectId)).toEqual(false);\r\n      });\r\n    });\r\n\r\n    describe('empty subject', () => {\r\n      const subjectId = fromDraftsBySubject.emptySubject;\r\n      const previous: State = data;\r\n      const current: State = reducer(previous, cleanDraft(subjectId));\r\n\r\n      test('state is immutable', () => {\r\n        expect(current).not.toBe(previous);\r\n      });\r\n\r\n      test('other drafts are preserved', () => {\r\n        expectOtherDraftsArePreserved(previous, current, subjectId);\r\n      });\r\n\r\n      test('cleanes draft', () => {\r\n        expectDraftIsEmpty(current, subjectId);\r\n      });\r\n    });\r\n  });\r\n});\r\n\r\ndescribe('draftsBySubject selectors', () => {\r\n  test('getSubjectIds returns all subject ids', () => {\r\n    expect(\r\n      fromDraftsBySubject.getSubjectIds(data)\r\n    ).toEqual(Object.keys(data));\r\n  });\r\n\r\n  test('hasDraft checks draft for existence by subjectId', () => {\r\n    const { hasDraft } = fromDraftsBySubject;\r\n\r\n    Object.keys(data)\r\n      .forEach((subjectId) =>\r\n        expect(hasDraft(data, subjectId)).toEqual(true)\r\n      );\r\n    expect(hasDraft(data, fromData.nonexistentSubject)).toEqual(false);\r\n    expect(\r\n      hasDraft(data)\r\n    ).toEqual(\r\n      hasDraft(data, fromDraftsBySubject.emptySubject)\r\n    );\r\n  });\r\n\r\n  test('getDraft returns draft by subjectId', () => {\r\n    const { getDraft } = fromDraftsBySubject;\r\n\r\n    Object.keys(data)\r\n      .forEach((subjectId) =>\r\n        expect(getDraft(data, subjectId)).toEqual(data[subjectId])\r\n      );\r\n    expect(getDraft(data, fromData.nonexistentSubject)).toBeUndefined();\r\n    expect(\r\n      getDraft(data)\r\n    ).toEqual(\r\n      getDraft(data, fromDraftsBySubject.emptySubject)\r\n    );\r\n  });\r\n\r\n  test('isValid checks draft for validity by subjectId', () => {\r\n    const { isValid } = fromDraftsBySubject;\r\n\r\n    expect(isValid(data, fromData.nonexistentSubject)).toEqual(false);\r\n    expect(isValid(data, fromData.invalidSubject)).toEqual(false);\r\n    expect(isValid(data, fromData.validSubject)).toEqual(true);\r\n    expect(\r\n      isValid(data)\r\n    ).toEqual(\r\n      isValid(data, fromDraftsBySubject.emptySubject)\r\n    );\r\n  });\r\n});\r\n\r\nfunction expectOtherDraftsArePreserved(\r\n  previous: State,\r\n  current: State,\r\n  subjectId: string\r\n) {\r\n  Object.keys(previous)\r\n    .filter((key) => key !== subjectId)\r\n    .forEach((key) => expect(previous[key]).toEqual(current[key]));\r\n}\r\n\r\nfunction expectDraftIsEmpty(state: State, subjectId: string) {\r\n  const draft = state[subjectId];\r\n  expect(draft).toBeDefined();\r\n  expect(draft.subjectId).toEqual(subjectId);\r\n  expect(draft.text).toEqual('');\r\n}\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"a3669e1d60359b246ff8f96b6cf29c273a1971b7"}
,"D:\\projects\\message-tree\\src\\reducers\\__tests__\\messagesBySubject.ts": {"path":"D:\\projects\\message-tree\\src\\reducers\\__tests__\\messagesBySubject.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":19},"end":{"line":3,"column":52}},"4":{"start":{"line":4,"column":19},"end":{"line":4,"column":55}},"5":{"start":{"line":5,"column":28},"end":{"line":5,"column":73}},"6":{"start":{"line":5,"column":86},"end":{"line":5,"column":105}},"7":{"start":{"line":6,"column":28},"end":{"line":6,"column":59}},"8":{"start":{"line":6,"column":85},"end":{"line":6,"column":104}},"9":{"start":{"line":7,"column":0},"end":{"line":9,"column":3}},"10":{"start":{"line":8,"column":4},"end":{"line":8,"column":59}},"11":{"start":{"line":10,"column":0},"end":{"line":52,"column":3}},"12":{"start":{"line":11,"column":4},"end":{"line":21,"column":7}},"13":{"start":{"line":12,"column":23},"end":{"line":12,"column":42}},"14":{"start":{"line":13,"column":8},"end":{"line":16,"column":11}},"15":{"start":{"line":14,"column":28},"end":{"line":14,"column":74}},"16":{"start":{"line":15,"column":12},"end":{"line":15,"column":40}},"17":{"start":{"line":17,"column":8},"end":{"line":20,"column":11}},"18":{"start":{"line":18,"column":28},"end":{"line":18,"column":92}},"19":{"start":{"line":19,"column":12},"end":{"line":19,"column":65}},"20":{"start":{"line":22,"column":4},"end":{"line":34,"column":7}},"21":{"start":{"line":23,"column":25},"end":{"line":23,"column":27}},"22":{"start":{"line":24,"column":24},"end":{"line":24,"column":106}},"23":{"start":{"line":25,"column":8},"end":{"line":27,"column":11}},"24":{"start":{"line":26,"column":12},"end":{"line":26,"column":47}},"25":{"start":{"line":28,"column":8},"end":{"line":33,"column":11}},"26":{"start":{"line":29,"column":12},"end":{"line":32,"column":15}},"27":{"start":{"line":30,"column":16},"end":{"line":30,"column":70}},"28":{"start":{"line":31,"column":16},"end":{"line":31,"column":62}},"29":{"start":{"line":35,"column":4},"end":{"line":51,"column":7}},"30":{"start":{"line":37,"column":22},"end":{"line":37,"column":24}},"31":{"start":{"line":38,"column":8},"end":{"line":41,"column":11}},"32":{"start":{"line":39,"column":12},"end":{"line":39,"column":31}},"33":{"start":{"line":40,"column":12},"end":{"line":40,"column":91}},"34":{"start":{"line":42,"column":8},"end":{"line":44,"column":11}},"35":{"start":{"line":43,"column":12},"end":{"line":43,"column":47}},"36":{"start":{"line":45,"column":8},"end":{"line":50,"column":11}},"37":{"start":{"line":46,"column":12},"end":{"line":49,"column":15}},"38":{"start":{"line":47,"column":16},"end":{"line":47,"column":70}},"39":{"start":{"line":48,"column":16},"end":{"line":48,"column":62}},"40":{"start":{"line":53,"column":0},"end":{"line":71,"column":3}},"41":{"start":{"line":54,"column":4},"end":{"line":56,"column":7}},"42":{"start":{"line":55,"column":8},"end":{"line":55,"column":131}},"43":{"start":{"line":57,"column":4},"end":{"line":63,"column":7}},"44":{"start":{"line":58,"column":32},"end":{"line":58,"column":53}},"45":{"start":{"line":59,"column":8},"end":{"line":60,"column":111}},"46":{"start":{"line":60,"column":36},"end":{"line":60,"column":109}},"47":{"start":{"line":61,"column":8},"end":{"line":61,"column":101}},"48":{"start":{"line":62,"column":8},"end":{"line":62,"column":143}},"49":{"start":{"line":64,"column":4},"end":{"line":70,"column":7}},"50":{"start":{"line":65,"column":32},"end":{"line":65,"column":53}},"51":{"start":{"line":66,"column":8},"end":{"line":67,"column":145}},"52":{"start":{"line":67,"column":36},"end":{"line":67,"column":143}},"53":{"start":{"line":68,"column":8},"end":{"line":68,"column":102}},"54":{"start":{"line":69,"column":8},"end":{"line":69,"column":143}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":37},"end":{"line":7,"column":38}},"loc":{"start":{"line":7,"column":43},"end":{"line":9,"column":1}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":38},"end":{"line":10,"column":39}},"loc":{"start":{"line":10,"column":44},"end":{"line":52,"column":1}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":29},"end":{"line":11,"column":30}},"loc":{"start":{"line":11,"column":35},"end":{"line":21,"column":5}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":68},"end":{"line":13,"column":69}},"loc":{"start":{"line":13,"column":74},"end":{"line":16,"column":9}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":17,"column":39},"end":{"line":17,"column":40}},"loc":{"start":{"line":17,"column":45},"end":{"line":20,"column":9}},"line":17},"5":{"name":"(anonymous_5)","decl":{"start":{"line":22,"column":35},"end":{"line":22,"column":36}},"loc":{"start":{"line":22,"column":41},"end":{"line":34,"column":5}},"line":22},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":35},"end":{"line":25,"column":36}},"loc":{"start":{"line":25,"column":41},"end":{"line":27,"column":9}},"line":25},"7":{"name":"(anonymous_7)","decl":{"start":{"line":28,"column":43},"end":{"line":28,"column":44}},"loc":{"start":{"line":28,"column":49},"end":{"line":33,"column":9}},"line":28},"8":{"name":"(anonymous_8)","decl":{"start":{"line":29,"column":39},"end":{"line":29,"column":40}},"loc":{"start":{"line":29,"column":48},"end":{"line":32,"column":13}},"line":29},"9":{"name":"(anonymous_9)","decl":{"start":{"line":35,"column":36},"end":{"line":35,"column":37}},"loc":{"start":{"line":35,"column":42},"end":{"line":51,"column":5}},"line":35},"10":{"name":"(anonymous_10)","decl":{"start":{"line":38,"column":35},"end":{"line":38,"column":36}},"loc":{"start":{"line":38,"column":44},"end":{"line":41,"column":9}},"line":38},"11":{"name":"(anonymous_11)","decl":{"start":{"line":42,"column":35},"end":{"line":42,"column":36}},"loc":{"start":{"line":42,"column":41},"end":{"line":44,"column":9}},"line":42},"12":{"name":"(anonymous_12)","decl":{"start":{"line":45,"column":53},"end":{"line":45,"column":54}},"loc":{"start":{"line":45,"column":59},"end":{"line":50,"column":9}},"line":45},"13":{"name":"(anonymous_13)","decl":{"start":{"line":46,"column":39},"end":{"line":46,"column":40}},"loc":{"start":{"line":46,"column":48},"end":{"line":49,"column":13}},"line":46},"14":{"name":"(anonymous_14)","decl":{"start":{"line":53,"column":40},"end":{"line":53,"column":41}},"loc":{"start":{"line":53,"column":46},"end":{"line":71,"column":1}},"line":53},"15":{"name":"(anonymous_15)","decl":{"start":{"line":54,"column":50},"end":{"line":54,"column":51}},"loc":{"start":{"line":54,"column":56},"end":{"line":56,"column":5}},"line":54},"16":{"name":"(anonymous_16)","decl":{"start":{"line":57,"column":72},"end":{"line":57,"column":73}},"loc":{"start":{"line":57,"column":78},"end":{"line":63,"column":5}},"line":57},"17":{"name":"(anonymous_17)","decl":{"start":{"line":60,"column":21},"end":{"line":60,"column":22}},"loc":{"start":{"line":60,"column":36},"end":{"line":60,"column":109}},"line":60},"18":{"name":"(anonymous_18)","decl":{"start":{"line":64,"column":59},"end":{"line":64,"column":60}},"loc":{"start":{"line":64,"column":65},"end":{"line":70,"column":5}},"line":64},"19":{"name":"(anonymous_19)","decl":{"start":{"line":67,"column":21},"end":{"line":67,"column":22}},"loc":{"start":{"line":67,"column":36},"end":{"line":67,"column":143}},"line":67}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":3,"28":3,"29":1,"30":1,"31":1,"32":3,"33":3,"34":1,"35":1,"36":1,"37":1,"38":3,"39":3,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":2,"47":1,"48":1,"49":1,"50":1,"51":1,"52":2,"53":1,"54":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":3,"9":1,"10":3,"11":1,"12":1,"13":3,"14":1,"15":1,"16":1,"17":2,"18":1,"19":2},"b":{},"inputSourceMap":{"version":3,"file":"messagesBySubject.js","sourceRoot":"","sources":["messagesBySubject.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n  loadMessages,\r\n  appendMessage\r\n} from '../../actions/messages';\r\nimport messages from '../../mocks/data/messages';\r\nimport data, * as fromData from '../../mocks/data/messagesBySubject';\r\nimport reducer, * as fromMessagesBySubject from '../messagesBySubject';\r\n\r\ntype State = fromMessagesBySubject.State;\r\n\r\ntest('emptySubject is empty string', () => {\r\n  expect(fromMessagesBySubject.emptySubject).toEqual('');\r\n});\r\n\r\ndescribe('messagesBySubject reducer', () => {\r\n  describe('default case', () => {\r\n    const action = { type: 'DEFAULT' };\r\n\r\n    test('returns empty object if previous state is undefined', () => {\r\n      const current = (reducer as any)(undefined, action);\r\n      expect(current).toEqual({});\r\n    });\r\n\r\n    test('returns previous state', () => {\r\n      const current = (reducer as any)(data, action);\r\n      expect(current).toEqual(data);\r\n    });\r\n  });\r\n\r\n  describe('LOAD_MESSAGES case', () => {\r\n    const previous: State = {};\r\n    const current = reducer(previous, loadMessages(messages));\r\n\r\n    test('state is immutable', () => {\r\n      expect(current).not.toBe(previous);\r\n    });\r\n\r\n    test('groups messages by subject', () => {\r\n      messages.forEach((msg) => {\r\n        expect(Object.keys(current)).toContain(msg.subjectId);\r\n        expect(current[msg.subjectId]).toContain(msg);\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('APPEND_MESSAGE case', () => {\r\n    let previous: State;\r\n    let current: State = {};\r\n\r\n    messages.forEach((msg) => {\r\n      previous = current;\r\n      current = reducer(previous, appendMessage(msg));\r\n    });\r\n\r\n    test('state is immutable', () => {\r\n      expect(current).not.toBe(previous);\r\n    });\r\n\r\n    test('appends message to appropriate group', () => {\r\n      messages.forEach((msg) => {\r\n        expect(Object.keys(current)).toContain(msg.subjectId);\r\n        expect(current[msg.subjectId]).toContain(msg);\r\n      });\r\n    });\r\n  });\r\n});\r\n\r\ndescribe('messagesBySubject selectors', () => {\r\n  test('getSubjectIds returns all subject ids', () => {\r\n    expect(\r\n      fromMessagesBySubject.getSubjectIds(data)\r\n    ).toEqual(Object.keys(data));\r\n  });\r\n\r\n  test('hasMessages checks message group for existence by subjectId', () => {\r\n    const { hasMessages } = fromMessagesBySubject;\r\n\r\n    Object.keys(data)\r\n      .forEach((subjectId) =>\r\n        expect(hasMessages(data, subjectId)).toEqual(true)\r\n      );\r\n    expect(hasMessages(data, fromData.nonexistentSubject)).toEqual(false);\r\n    expect(\r\n      hasMessages(data)\r\n    ).toEqual(\r\n      hasMessages(data, fromMessagesBySubject.emptySubject)\r\n    );\r\n  });\r\n\r\n  test('getMessages returns message group by subjectId', () => {\r\n    const { getMessages } = fromMessagesBySubject;\r\n\r\n    Object.keys(data)\r\n      .forEach((subjectId) =>\r\n        expect(getMessages(data, subjectId)).toEqual(data[subjectId])\r\n      );\r\n    expect(getMessages(data, fromData.nonexistentSubject)).toBeUndefined();\r\n    expect(\r\n      getMessages(data)\r\n    ).toEqual(\r\n      getMessages(data, fromMessagesBySubject.emptySubject)\r\n    );\r\n  });\r\n});\r\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"142bfc1cb57c4208f3ec4ef50afe421d6a69c1ec"}
}
